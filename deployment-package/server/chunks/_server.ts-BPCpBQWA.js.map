{"version":3,"file":"_server.ts-BPCpBQWA.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/admin/health/_server.ts.js"],"sourcesContent":["import { json } from \"@sveltejs/kit\";\nimport { l as logger, L as LogLevel } from \"../../../../../chunks/logger.js\";\nimport { D as DatabaseSecurityLogger } from \"../../../../../chunks/db-security-logger.js\";\nimport { a as validateAPIRequestComprehensive } from \"../../../../../chunks/middleware.js\";\nimport { query } from \"../../../../../chunks/db-loader.js\";\nconst PERFORMANCE_THRESHOLDS = {\n  API_RESPONSE_TIME: 5e3,\n  // 5 seconds\n  DB_QUERY_TIME: 3e3,\n  // 3 seconds\n  WEBSOCKET_CONNECTION_TIME: 1e3,\n  // 1 second\n  MEMORY_USAGE_MB: 1024,\n  // 1GB\n  CPU_USAGE_PERCENT: 80\n};\nclass MetricsCollector {\n  metrics = /* @__PURE__ */ new Map();\n  maxDataPoints = 1e3;\n  // Keep last 1000 data points per metric\n  /**\n   * Record a metric value\n   */\n  record(metric) {\n    const key = metric.name;\n    if (!this.metrics.has(key)) {\n      this.metrics.set(key, []);\n    }\n    const dataPoints = this.metrics.get(key);\n    dataPoints.push(metric);\n    if (dataPoints.length > this.maxDataPoints) {\n      dataPoints.splice(0, dataPoints.length - this.maxDataPoints);\n    }\n    this.checkThresholds(metric);\n  }\n  /**\n   * Get metric statistics\n   */\n  getStats(metricName, timeWindowMs = 6e4) {\n    const dataPoints = this.metrics.get(metricName);\n    if (!dataPoints) return null;\n    const cutoff = Date.now() - timeWindowMs;\n    const recentPoints = dataPoints.filter((point) => point.timestamp > cutoff);\n    if (recentPoints.length === 0) return null;\n    const values = recentPoints.map((point) => point.value).sort((a, b) => a - b);\n    const sum = values.reduce((a, b) => a + b, 0);\n    return {\n      count: values.length,\n      avg: sum / values.length,\n      min: values[0],\n      max: values[values.length - 1],\n      p95: values[Math.floor(values.length * 0.95)] || values[values.length - 1],\n      p99: values[Math.floor(values.length * 0.99)] || values[values.length - 1]\n    };\n  }\n  /**\n   * Get all metrics for monitoring dashboard\n   */\n  getAllMetrics() {\n    const result = {};\n    for (const [name, dataPoints] of this.metrics) {\n      const stats = this.getStats(name);\n      if (stats) {\n        result[name] = {\n          ...stats,\n          lastValue: dataPoints[dataPoints.length - 1]?.value,\n          lastTimestamp: dataPoints[dataPoints.length - 1]?.timestamp\n        };\n      }\n    }\n    return result;\n  }\n  /**\n   * Record API request metrics\n   */\n  recordAPIRequest(method, path, duration, status) {\n    this.record({\n      name: \"api_request_duration\",\n      value: duration,\n      unit: \"ms\",\n      timestamp: Date.now(),\n      tags: { method, path, status: status.toString() }\n    });\n    this.record({\n      name: \"api_request_count\",\n      value: 1,\n      unit: \"count\",\n      timestamp: Date.now(),\n      tags: { method, path, status: status.toString() }\n    });\n  }\n  /**\n   * Record authentication events\n   */\n  recordAuthEvent(event, userId) {\n    this.record({\n      name: \"auth_events\",\n      value: 1,\n      unit: \"count\",\n      timestamp: Date.now(),\n      tags: { event, userId: userId || \"unknown\" }\n    });\n  }\n  /**\n   * Record rate limiting events\n   */\n  recordRateLimit(endpoint, ip) {\n    this.record({\n      name: \"rate_limit_violations\",\n      value: 1,\n      unit: \"count\",\n      timestamp: Date.now(),\n      tags: { endpoint, ip }\n    });\n  }\n  /**\n   * Record error events\n   */\n  recordError(type, message, stack) {\n    this.record({\n      name: \"application_errors\",\n      value: 1,\n      unit: \"count\",\n      timestamp: Date.now(),\n      tags: { type, message: message.substring(0, 100) }\n    });\n  }\n  /**\n   * Check metric against performance thresholds\n   */\n  checkThresholds(metric) {\n    let threshold;\n    let thresholdType = \"performance\";\n    switch (metric.name) {\n      case \"api_response_time\":\n        threshold = PERFORMANCE_THRESHOLDS.API_RESPONSE_TIME;\n        break;\n      case \"db_query_time\":\n        threshold = PERFORMANCE_THRESHOLDS.DB_QUERY_TIME;\n        break;\n      case \"websocket_connection_time\":\n        threshold = PERFORMANCE_THRESHOLDS.WEBSOCKET_CONNECTION_TIME;\n        break;\n      case \"memory_usage_mb\":\n        threshold = PERFORMANCE_THRESHOLDS.MEMORY_USAGE_MB;\n        thresholdType = \"resource\";\n        break;\n      case \"cpu_usage_percent\":\n        threshold = PERFORMANCE_THRESHOLDS.CPU_USAGE_PERCENT;\n        thresholdType = \"resource\";\n        break;\n    }\n    if (threshold && metric.value > threshold) {\n      logger.logPerformance(LogLevel.WARN, `Performance threshold exceeded: ${metric.name}`, {\n        metric: metric.name,\n        value: metric.value,\n        unit: metric.unit,\n        threshold,\n        component: thresholdType\n      });\n    }\n  }\n  /**\n   * Clear old metrics data\n   */\n  cleanup(olderThanMs = 24 * 60 * 60 * 1e3) {\n    const cutoff = Date.now() - olderThanMs;\n    for (const [name, dataPoints] of this.metrics) {\n      const filteredPoints = dataPoints.filter((point) => point.timestamp > cutoff);\n      this.metrics.set(name, filteredPoints);\n    }\n  }\n}\nconst metrics = new MetricsCollector();\nfunction recordMemoryUsage() {\n  const memUsage = process.memoryUsage();\n  metrics.record({\n    name: \"memory_usage_mb\",\n    value: Math.round(memUsage.rss / 1024 / 1024),\n    unit: \"MB\",\n    timestamp: Date.now(),\n    tags: { type: \"rss\" }\n  });\n  metrics.record({\n    name: \"memory_heap_mb\",\n    value: Math.round(memUsage.heapUsed / 1024 / 1024),\n    unit: \"MB\",\n    timestamp: Date.now(),\n    tags: { type: \"heap\" }\n  });\n}\nsetInterval(recordMemoryUsage, 6e4);\nsetInterval(() => {\n  metrics.cleanup();\n}, 60 * 60 * 1e3);\nconst GET = async (event) => {\n  const validation = await validateAPIRequestComprehensive(event, {\n    requireAuth: true,\n    rateLimit: {\n      requests: 10,\n      windowMs: 60 * 1e3\n      // 10 requests per minute\n    }\n  });\n  if (!validation.success) {\n    return validation.response;\n  }\n  const isAdmin = event.locals.user?.role === \"ADMIN\";\n  try {\n    const startTime = Date.now();\n    const dbCheck = await checkDatabase();\n    const loggingCheck = checkLogging();\n    const securityCheck = checkSecurity();\n    const memoryCheck = checkMemory();\n    const diskCheck = checkDisk();\n    const checks = { database: dbCheck, logging: loggingCheck, security: securityCheck, memory: memoryCheck, disk: diskCheck };\n    const overallStatus = calculateOverallStatus(checks);\n    const healthStatus = {\n      status: overallStatus,\n      timestamp: (/* @__PURE__ */ new Date()).toISOString(),\n      uptime: process.uptime(),\n      version: process.env.npm_package_version || \"1.0.0\",\n      checks,\n      metrics: {\n        requests: {\n          total: metrics.getStats(\"api_request_count\")?.count || 0,\n          errors: metrics.getStats(\"application_errors\")?.count || 0,\n          avgResponseTime: metrics.getStats(\"api_request_duration\")?.avg || 0\n        },\n        security: {\n          threats: DatabaseSecurityLogger.getSecurityStats().suspiciousQueries,\n          suspiciousActivities: DatabaseSecurityLogger.getSuspiciousActivities(10).length\n        },\n        performance: {\n          slowQueries: DatabaseSecurityLogger.getSecurityStats().slowQueries,\n          avgQueryTime: metrics.getStats(\"db_query_time\")?.avg || 0\n        }\n      }\n    };\n    logger.logSystem(LogLevel.INFO, \"Health check accessed\", {\n      component: \"health\",\n      event: \"check_accessed\",\n      details: {\n        userId: event.locals.user?.id,\n        isAdmin,\n        status: overallStatus,\n        responseTime: Date.now() - startTime\n      }\n    });\n    if (!isAdmin) {\n      return json({\n        status: overallStatus,\n        timestamp: healthStatus.timestamp,\n        uptime: healthStatus.uptime,\n        message: overallStatus === \"healthy\" ? \"System operational\" : \"System issues detected\"\n      });\n    }\n    return json(healthStatus);\n  } catch (error) {\n    logger.logSystem(LogLevel.ERROR, \"Health check failed\", {\n      component: \"health\",\n      event: \"check_failed\",\n      error\n    });\n    return json(\n      {\n        status: \"unhealthy\",\n        timestamp: (/* @__PURE__ */ new Date()).toISOString(),\n        error: \"Health check failed\"\n      },\n      { status: 500 }\n    );\n  }\n};\nasync function checkDatabase() {\n  const startTime = Date.now();\n  try {\n    await query(\"SELECT 1 as health_check\");\n    const responseTime = Date.now() - startTime;\n    if (responseTime > 5e3) {\n      return {\n        status: \"warning\",\n        message: \"Database responding slowly\",\n        responseTime,\n        details: { threshold: 5e3 }\n      };\n    }\n    return {\n      status: \"ok\",\n      message: \"Database connection healthy\",\n      responseTime\n    };\n  } catch (error) {\n    return {\n      status: \"error\",\n      message: \"Database connection failed\",\n      responseTime: Date.now() - startTime,\n      details: { error: error.message }\n    };\n  }\n}\nfunction checkLogging() {\n  try {\n    logger.logSystem(LogLevel.DEBUG, \"Health check logging test\", {\n      component: \"health\",\n      event: \"logging_test\"\n    });\n    return {\n      status: \"ok\",\n      message: \"Logging system operational\"\n    };\n  } catch (error) {\n    return {\n      status: \"error\",\n      message: \"Logging system failed\",\n      details: { error: error.message }\n    };\n  }\n}\nfunction checkSecurity() {\n  const stats = DatabaseSecurityLogger.getSecurityStats();\n  if (stats.suspiciousQueries > 10) {\n    return {\n      status: \"warning\",\n      message: \"High number of suspicious activities detected\",\n      details: { suspiciousQueries: stats.suspiciousQueries }\n    };\n  }\n  if (stats.errorQueries > 50) {\n    return {\n      status: \"warning\",\n      message: \"High number of database errors\",\n      details: { errorQueries: stats.errorQueries }\n    };\n  }\n  return {\n    status: \"ok\",\n    message: \"Security monitoring active\",\n    details: stats\n  };\n}\nfunction checkMemory() {\n  const memUsage = process.memoryUsage();\n  const totalMB = Math.round(memUsage.rss / 1024 / 1024);\n  const heapMB = Math.round(memUsage.heapUsed / 1024 / 1024);\n  if (totalMB > 1024) {\n    return {\n      status: \"warning\",\n      message: \"High memory usage detected\",\n      details: { totalMB, heapMB, threshold: 1024 }\n    };\n  }\n  return {\n    status: \"ok\",\n    message: \"Memory usage normal\",\n    details: { totalMB, heapMB }\n  };\n}\nfunction checkDisk() {\n  return {\n    status: \"ok\",\n    message: \"Disk space check not implemented\",\n    details: { note: \"Requires fs-extra or similar for disk space monitoring\" }\n  };\n}\nfunction calculateOverallStatus(checks) {\n  const statuses = Object.values(checks).map((check) => check.status);\n  if (statuses.some((status) => status === \"error\")) {\n    return \"unhealthy\";\n  }\n  if (statuses.some((status) => status === \"warning\")) {\n    return \"degraded\";\n  }\n  return \"healthy\";\n}\nexport {\n  GET\n};\n"],"names":[],"mappings":"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"}