import"../chunks/DsnmJJEf.js";import{i as Se}from"../chunks/DX-Oc8op.js";import{c as re,f as $,a,p as Ne,o as ke,l as Me,j as je,d as f,h as Ce,b as Ae,q as ze,$ as Be,k as E,g as t,i as s,m as Y,s as T,e as r,v as O,r as o,u as g,n as i,t as S,aL as X,w as $e}from"../chunks/3zx2OM-S.js";import{l as oe,s as le,p as Oe,i as me}from"../chunks/Dwjkgfq3.js";import{a as Q,s as Re,B as fe}from"../chunks/lPcixCUF.js";import{C as Z,a as ee,b as te,c as se}from"../chunks/BrzuSUaY.js";import{L as K,I as ae,S as Le,M as Ie}from"../chunks/mTYbsNnE.js";import{I as ie,s as ne}from"../chunks/BID1lDIu.js";import{U as Ee}from"../chunks/DvgHziNU.js";function Te(R,m){const e=oe(m,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.539.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const A=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"}]];ie(R,le({name:"bell"},()=>e,{get iconNode(){return A},children:(z,L)=>{var n=re(),I=$(n);ne(I,m,"default",{},null),a(z,n)},$$slots:{default:!0}}))}function Fe(R,m){const e=oe(m,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.539.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const A=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];ie(R,le({name:"globe"},()=>e,{get iconNode(){return A},children:(z,L)=>{var n=re(),I=$(n);ne(I,m,"default",{},null),a(z,n)},$$slots:{default:!0}}))}function Ue(R,m){const e=oe(m,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.539.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const A=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}]];ie(R,le({name:"lock"},()=>e,{get iconNode(){return A},children:(z,L)=>{var n=re(),I=$(n);ne(I,m,"default",{},null),a(z,n)},$$slots:{default:!0}}))}function Ve(R,m){const e=oe(m,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.539.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const A=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];ie(R,le({name:"save"},()=>e,{get iconNode(){return A},children:(z,L)=>{var n=re(),I=$(n);ne(I,m,"default",{},null),a(z,n)},$$slots:{default:!0}}))}var qe=f("<div> </div>"),He=f("<!> ",1),We=f("<!> Profile Information",1),Ge=f('<div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><!> <!></div> <div><!> <!></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><!> <!></div> <div><!> <!></div></div>',1),Je=f("<!> <!>",1),De=f("<!> Notification Preferences",1),Ke=f('<div class="flex items-center justify-between"><div><!> <p class="text-sm text-slate-400">Receive alerts for account activities</p></div> <!></div> <div class="flex items-center justify-between"><div><!> <p class="text-sm text-slate-400">Browser notifications for urgent updates</p></div> <!></div> <div class="flex items-center justify-between"><div><!> <p class="text-sm text-slate-400">Summary of your account performance</p></div> <!></div>',1),Qe=f("<!> <!>",1),Xe=f("<!> Security Status",1),Ye=f("<!> Change Password",1),Ze=f('<div class="flex items-center justify-between"><span class="text-slate-300">Two-Factor Auth</span> <!></div> <div class="flex items-center justify-between"><span class="text-slate-300">Active Sessions</span> <!></div> <div><span class="text-slate-300 text-sm">Last password change</span> <p class="text-white"> </p></div> <!>',1),et=f("<!> <!>",1),tt=f("<!> Subscription",1),st=f("<!> Manage Billing",1),at=f('<div class="flex items-center justify-between"><span class="text-slate-300">Plan</span> <!></div> <div class="flex items-center justify-between"><span class="text-slate-300">Accounts</span> <span class="text-white"> </span></div> <div><span class="text-slate-300 text-sm">Next billing</span> <p class="text-white"> </p></div> <!>',1),rt=f("<!> <!>",1),ot=f('<div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2 space-y-6"><!> <!></div> <div class="space-y-6"><!> <!></div></div>'),lt=f('<div class="space-y-6"><div class="flex items-center justify-between"><div><h1 class="text-3xl font-bold text-white">Settings</h1> <p class="text-slate-300 mt-1">Manage your account preferences and configuration</p></div> <div class="flex flex-col items-end gap-2 relative z-10"><!> <!></div></div> <!></div>');function _t(R,m){Ne(m,!1);const e=Y();let A=Oe(m,"data",8),z=Y(!1),L=Y(!1),n=Y("");ke(()=>{T(z,!0)});async function I(){if(console.log("🔥 saveSettings function called!"),!t(L)){T(L,!0),T(n,"");try{console.log("🔥 Saving settings...",t(e));const p=await fetch("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:{name:t(e).profile.name,company:t(e).profile.company},notifications:t(e).notifications})});if(p.ok){const x=await p.json();T(n,"✅ Settings saved successfully!"),console.log("Settings saved:",x),setTimeout(()=>{T(n,"")},3e3)}else{const x=await p.json();T(n,`❌ Error: ${x.error||"Failed to save settings"}`),console.error("Save error:",x)}}catch(p){T(n,"❌ Network error occurred while saving"),console.error("Network error:",p)}finally{T(L,!1)}}}Me(()=>ze(A()),()=>{T(e,A().userSettings)}),je(),Se();var de=lt();Ce(p=>{Be.title="Settings - Client Portal"});var ce=r(de),pe=s(r(ce),2),_e=r(pe);{var xe=p=>{var x=qe(),F=r(x,!0);o(x),E(H=>{Re(x,1,`text-sm ${H??""}`),O(F,t(n))},[()=>(t(n),g(()=>t(n).startsWith("✅")?"text-green-400":"text-red-400"))]),a(p,x)};me(_e,p=>{t(n)&&p(xe)})}var be=s(_e,2);Q(be,{onclick:I,get disabled(){return t(L)},class:"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed relative z-20",children:(p,x)=>{var F=He(),H=$(F);Ve(H,{class:"w-4 h-4 mr-2"});var ve=s(H);E(()=>O(ve,` ${t(L)?"Saving...":"Save Changes"}`)),a(p,F)},$$slots:{default:!0}}),o(pe),o(ce);var we=s(ce,2);{var ye=p=>{var x=ot(),F=r(x),H=r(F);Z(H,{class:"glass-card border-white/10",children:(W,ue)=>{var j=Je(),C=$(j);ee(C,{children:(h,J)=>{te(h,{class:"text-white flex items-center",children:(v,u)=>{var l=We(),d=$(l);Ee(d,{class:"w-5 h-5 mr-2"}),i(),a(v,l)},$$slots:{default:!0}})},$$slots:{default:!0}});var G=s(C,2);se(G,{class:"space-y-4",children:(h,J)=>{var v=Ge(),u=$(v),l=r(u),d=r(l);K(d,{class:"text-slate-300",children:(c,M)=>{i();var D=S("Full Name");a(c,D)},$$slots:{default:!0}});var U=s(d,2);ae(U,{class:"bg-white/5 border-white/20 text-white placeholder:text-gray-400",get value(){return t(e).profile.name},set value(c){X(e,t(e).profile.name=c)},$$legacy:!0}),o(l);var N=s(l,2),w=r(N);K(w,{class:"text-slate-300",children:(c,M)=>{i();var D=S("Email");a(c,D)},$$slots:{default:!0}});var V=s(w,2);ae(V,{get value(){return t(e),g(()=>t(e).profile.email)},type:"email",readonly:!0,class:"bg-white/5 border-white/20 text-white placeholder:text-gray-400"}),o(N),o(u);var q=s(u,2),b=r(q),y=r(b);K(y,{class:"text-slate-300",children:(c,M)=>{i();var D=S("Company");a(c,D)},$$slots:{default:!0}});var P=s(y,2);ae(P,{class:"bg-white/5 border-white/20 text-white placeholder:text-gray-400",get value(){return t(e).profile.company},set value(c){X(e,t(e).profile.company=c)},$$legacy:!0}),o(b);var k=s(b,2),_=r(k);K(_,{class:"text-slate-300",children:(c,M)=>{i();var D=S("Role");a(c,D)},$$slots:{default:!0}});var B=s(_,2);ae(B,{get value(){return t(e),g(()=>t(e).profile.role)},disabled:!0,class:"bg-white/5 border-white/20 text-white placeholder:text-gray-400"}),o(k),o(q),a(h,v)},$$slots:{default:!0}}),a(W,j)},$$slots:{default:!0}});var ve=s(H,2);Z(ve,{class:"glass-card border-white/10",children:(W,ue)=>{var j=Qe(),C=$(j);ee(C,{children:(h,J)=>{te(h,{class:"text-white flex items-center",children:(v,u)=>{var l=De(),d=$(l);Te(d,{class:"w-5 h-5 mr-2"}),i(),a(v,l)},$$slots:{default:!0}})},$$slots:{default:!0}});var G=s(C,2);se(G,{class:"space-y-4",children:(h,J)=>{var v=Ke(),u=$(v),l=r(u),d=r(l);K(d,{class:"text-white",children:(_,B)=>{i();var c=S("Email Alerts");a(_,c)},$$slots:{default:!0}}),i(2),o(l);var U=s(l,2);{let _=$e(()=>(t(e),g(()=>t(e).notifications.emailAlerts?"bg-green-500/20 border-green-500/50 text-green-400":"border-white/20 text-white bg-transparent")));Q(U,{variant:"outline",size:"sm",get class(){return t(_)},$$events:{click:()=>X(e,t(e).notifications.emailAlerts=!t(e).notifications.emailAlerts)},children:(B,c)=>{i();var M=S();E(()=>O(M,(t(e),g(()=>t(e).notifications.emailAlerts?"On":"Off")))),a(B,M)},$$slots:{default:!0}})}o(u);var N=s(u,2),w=r(N),V=r(w);K(V,{class:"text-white",children:(_,B)=>{i();var c=S("Push Notifications");a(_,c)},$$slots:{default:!0}}),i(2),o(w);var q=s(w,2);{let _=$e(()=>(t(e),g(()=>t(e).notifications.pushNotifications?"bg-green-500/20 border-green-500/50 text-green-400":"border-white/20 text-white bg-transparent")));Q(q,{variant:"outline",size:"sm",get class(){return t(_)},$$events:{click:()=>X(e,t(e).notifications.pushNotifications=!t(e).notifications.pushNotifications)},children:(B,c)=>{i();var M=S();E(()=>O(M,(t(e),g(()=>t(e).notifications.pushNotifications?"On":"Off")))),a(B,M)},$$slots:{default:!0}})}o(N);var b=s(N,2),y=r(b),P=r(y);K(P,{class:"text-white",children:(_,B)=>{i();var c=S("Weekly Reports");a(_,c)},$$slots:{default:!0}}),i(2),o(y);var k=s(y,2);{let _=$e(()=>(t(e),g(()=>t(e).notifications.weeklyReports?"bg-green-500/20 border-green-500/50 text-green-400":"border-white/20 text-white bg-transparent")));Q(k,{variant:"outline",size:"sm",get class(){return t(_)},$$events:{click:()=>X(e,t(e).notifications.weeklyReports=!t(e).notifications.weeklyReports)},children:(B,c)=>{i();var M=S();E(()=>O(M,(t(e),g(()=>t(e).notifications.weeklyReports?"On":"Off")))),a(B,M)},$$slots:{default:!0}})}o(b),a(h,v)},$$slots:{default:!0}}),a(W,j)},$$slots:{default:!0}}),o(F);var he=s(F,2),ge=r(he);Z(ge,{class:"glass-card border-white/10",children:(W,ue)=>{var j=et(),C=$(j);ee(C,{children:(h,J)=>{te(h,{class:"text-white flex items-center",children:(v,u)=>{var l=Xe(),d=$(l);Le(d,{class:"w-5 h-5 mr-2"}),i(),a(v,l)},$$slots:{default:!0}})},$$slots:{default:!0}});var G=s(C,2);se(G,{class:"space-y-4",children:(h,J)=>{var v=Ze(),u=$(v),l=s(r(u),2);fe(l,{variant:"outline",class:"bg-green-500/20 text-green-400 border-green-500/50",children:(b,y)=>{i();var P=S("Enabled");a(b,P)},$$slots:{default:!0}}),o(u);var d=s(u,2),U=s(r(d),2);fe(U,{variant:"outline",class:"bg-blue-500/20 text-blue-400 border-blue-500/50",children:(b,y)=>{i();var P=S();E(()=>O(P,(t(e),g(()=>t(e).security.activeSessions)))),a(b,P)},$$slots:{default:!0}}),o(d);var N=s(d,2),w=s(r(N),2),V=r(w,!0);o(w),o(N);var q=s(N,2);Q(q,{variant:"outline",class:"w-full border-white/20 text-white hover:bg-white/10 bg-transparent",children:(b,y)=>{var P=Ye(),k=$(P);Ue(k,{class:"w-4 h-4 mr-2"}),i(),a(b,P)},$$slots:{default:!0}}),E(()=>O(V,(t(e),g(()=>t(e).security.lastPasswordChange)))),a(h,v)},$$slots:{default:!0}}),a(W,j)},$$slots:{default:!0}});var Pe=s(ge,2);Z(Pe,{class:"glass-card border-white/10",children:(W,ue)=>{var j=rt(),C=$(j);ee(C,{children:(h,J)=>{te(h,{class:"text-white flex items-center",children:(v,u)=>{var l=tt(),d=$(l);Fe(d,{class:"w-5 h-5 mr-2"}),i(),a(v,l)},$$slots:{default:!0}})},$$slots:{default:!0}});var G=s(C,2);se(G,{class:"space-y-4",children:(h,J)=>{var v=at(),u=$(v),l=s(r(u),2);fe(l,{variant:"outline",class:"bg-blue-500/20 text-blue-400 border-blue-500/50",children:(y,P)=>{i();var k=S();E(()=>O(k,(t(e),g(()=>t(e).subscription.plan)))),a(y,k)},$$slots:{default:!0}}),o(u);var d=s(u,2),U=s(r(d),2),N=r(U);o(U),o(d);var w=s(d,2),V=s(r(w),2),q=r(V,!0);o(V),o(w);var b=s(w,2);Q(b,{variant:"outline",class:"w-full border-white/20 text-white hover:bg-white/10 bg-transparent",children:(y,P)=>{var k=st(),_=$(k);Ie(_,{class:"w-4 h-4 mr-2"}),i(),a(y,k)},$$slots:{default:!0}}),E(()=>{O(N,`${t(e),g(()=>t(e).subscription.currentAccounts)??""}/${t(e),g(()=>t(e).subscription.accountLimit)??""}`),O(q,(t(e),g(()=>t(e).subscription.nextBilling)))}),a(h,v)},$$slots:{default:!0}}),a(W,j)},$$slots:{default:!0}}),o(he),o(x),a(p,x)};me(we,p=>{t(z)&&p(ye)})}o(de),a(R,de),Ae()}export{_t as component};
