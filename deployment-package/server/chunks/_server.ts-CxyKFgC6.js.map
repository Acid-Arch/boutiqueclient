{"version":3,"file":"_server.ts-CxyKFgC6.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/test-db/_server.ts.js"],"sourcesContent":["import { json } from \"@sveltejs/kit\";\nimport { query } from \"../../../../chunks/db-loader.js\";\nconst GET = async () => {\n  try {\n    console.log(\"Testing database connection...\");\n    console.log(\"Test 1: Simple SELECT 1\");\n    const test1 = await query(\"SELECT 1 as test\");\n    console.log(\"Test 1 result:\", test1.rows);\n    console.log(\"Test 2: Show tables\");\n    const test2 = await query(\"SELECT tablename FROM pg_tables WHERE schemaname = 'public' AND tablename LIKE 'scraping%'\");\n    console.log(\"Test 2 result:\", test2.rows);\n    console.log(\"Test 3: Count scraping_sessions\");\n    const test3 = await query(\"SELECT COUNT(*) as count FROM scraping_sessions\");\n    console.log(\"Test 3 result:\", test3.rows);\n    return json({\n      success: true,\n      tests: {\n        simple: test1.rows,\n        tables: test2.rows,\n        count: test3.rows\n      }\n    });\n  } catch (error) {\n    console.error(\"Database test error:\", error);\n    return json({\n      success: false,\n      error: error instanceof Error ? error.message : \"Unknown error\",\n      stack: error instanceof Error ? error.stack : void 0\n    }, { status: 500 });\n  }\n};\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;;AAEK,MAAC,GAAG,GAAG,YAAY;AACxB,EAAE,IAAI;AACN,IAAI,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC;AACjD,IAAI,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC;AAC1C,IAAI,MAAM,KAAK,GAAG,MAAM,KAAK,CAAC,kBAAkB,CAAC;AACjD,IAAI,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,KAAK,CAAC,IAAI,CAAC;AAC7C,IAAI,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC;AACtC,IAAI,MAAM,KAAK,GAAG,MAAM,KAAK,CAAC,4FAA4F,CAAC;AAC3H,IAAI,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,KAAK,CAAC,IAAI,CAAC;AAC7C,IAAI,OAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC;AAClD,IAAI,MAAM,KAAK,GAAG,MAAM,KAAK,CAAC,iDAAiD,CAAC;AAChF,IAAI,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,KAAK,CAAC,IAAI,CAAC;AAC7C,IAAI,OAAO,IAAI,CAAC;AAChB,MAAM,OAAO,EAAE,IAAI;AACnB,MAAM,KAAK,EAAE;AACb,QAAQ,MAAM,EAAE,KAAK,CAAC,IAAI;AAC1B,QAAQ,MAAM,EAAE,KAAK,CAAC,IAAI;AAC1B,QAAQ,KAAK,EAAE,KAAK,CAAC;AACrB;AACA,KAAK,CAAC;AACN,EAAE,CAAC,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,sBAAsB,EAAE,KAAK,CAAC;AAChD,IAAI,OAAO,IAAI,CAAC;AAChB,MAAM,OAAO,EAAE,KAAK;AACpB,MAAM,KAAK,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,eAAe;AACrE,MAAM,KAAK,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,KAAK,GAAG;AACpD,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACvB,EAAE;AACF;;;;"}