# PRODUCTION Environment Configuration Template
# Generated: 2025-01-05
# 
# SECURITY WARNING: This file contains placeholders for sensitive information
# - Replace ALL placeholder values with real production credentials
# - Never commit the actual .env file to version control
# - Rotate secrets regularly (every 90 days recommended)
# - Use a secrets management system in production
#

# =============================================================================
# Environment Configuration
# =============================================================================
NODE_ENV=production
CHATBOT_MODE=production

# =============================================================================
# Application Configuration
# =============================================================================
PUBLIC_APP_NAME="Client Portal"
INSTANCE_ID="GENERATE_WITH_npm_run_generate:secrets"

# =============================================================================
# Port Configuration
# =============================================================================
PORT=3000
PUBLIC_WS_PORT=443
PREVIEW_PORT=4874
TEST_PORT=5877

# =============================================================================
# URLs - UPDATE THESE FOR YOUR PRODUCTION DOMAIN
# =============================================================================
PUBLIC_APP_URL="https://your-production-domain.com"
PUBLIC_WS_URL="wss://your-production-domain.com/ws"
PRODUCTION_BASE_URL="https://your-production-domain.com"

# Development URLs (for reference, not used in production)
DEV_SERVER_URL="http://localhost:5173"
WEBSOCKET_URL="ws://localhost:5173"

# =============================================================================
# Database Configuration - UPDATE WITH YOUR PRODUCTION DATABASE
# =============================================================================
DATABASE_URL="postgresql://your_prod_user:SECURE_PASSWORD_HERE@your-db-host:5432/your_prod_db?sslmode=require&connect_timeout=30"
DB_HOST="your-production-db-host.com"
DB_PORT="5432"
DB_NAME="your_production_database"
DB_USER="your_production_db_user"
DB_PASSWORD="GENERATE_WITH_npm_run_generate:secrets"
DB_SSL_MODE="require"
DB_CONNECT_TIMEOUT="30"
DB_STATEMENT_TIMEOUT="30000"
DB_QUERY_TIMEOUT="30000"
DB_CONNECTION_TIMEOUT_MS="30000"
DB_IDLE_TIMEOUT_MS="30000"

# Database Pool Configuration (Production Optimized)
DB_POOL_MAX="20"
DB_POOL_MIN="5"
DB_IDLE_TIMEOUT="30000"
DB_CONNECTION_TIMEOUT="5000"

# Database SSL Configuration (Required for Production)
DB_SSL_CA_CERT=""
DB_SSL_CLIENT_CERT=""
DB_SSL_CLIENT_KEY=""

# =============================================================================
# Authentication Secrets - GENERATE WITH npm run generate:secrets
# =============================================================================
AUTH_SECRET="GENERATE_WITH_npm_run_generate:secrets"
NEXTAUTH_SECRET="GENERATE_WITH_npm_run_generate:secrets"
AUTH_URL="https://your-production-domain.com"
NEXTAUTH_URL="https://your-production-domain.com"

# =============================================================================
# Google OAuth Configuration - GET FROM GOOGLE CLOUD CONSOLE
# =============================================================================
GOOGLE_CLIENT_ID="your-production-google-client-id"
GOOGLE_CLIENT_SECRET="your-production-google-client-secret"
GOOGLE_OAUTH_REDIRECT_URI="https://your-production-domain.com/auth/callback/google"
OAUTH_DEVELOPMENT_CALLBACK="https://your-production-domain.com/api/auth/oauth/google?action=callback"
OAUTH_CALLBACK_URL="https://your-production-domain.com/api/auth/oauth/google?action=callback"

# =============================================================================
# Cookie Configuration (Production Security)
# =============================================================================
COOKIE_DOMAIN="your-production-domain.com"
COOKIE_SECURE="true"
COOKIE_SAME_SITE="strict"

# =============================================================================
# WebSocket Configuration
# =============================================================================
PUBLIC_CHATBOT_WEBSOCKET_HOST="your-production-domain.com"
PUBLIC_CHATBOT_WEBSOCKET_PORT="443"
CHATBOT_WEBSOCKET_PORT="8743"
WS_AUTH_TOKEN="GENERATE_WITH_npm_run_generate:secrets"

# =============================================================================
# HikerAPI Configuration - GET FROM HIKER API PROVIDER
# =============================================================================
HIKER_API_KEY="your-production-hiker-api-key"
HIKER_BASE_URL="https://hikerapi.com"
HIKER_TIMEOUT="30000"
HIKER_RATE_LIMIT_PER_SECOND="11"
HIKER_BURST_CAPACITY="20"
HIKER_RETRY_ATTEMPTS="3"
HIKER_RETRY_DELAY="5000"

# Cost Control Settings (Production)
HIKER_BUDGET_DAILY="100.00"
HIKER_COST_PER_UNIT="0.001"
HIKER_ALERT_THRESHOLD="0.8"
HIKER_EMERGENCY_STOP_THRESHOLD="0.95"

# Production Settings
HIKER_API_MOCK_MODE="false"
HIKER_API_TEST_USERNAME=""
HIKER_API_LOG_LEVEL="info"

# =============================================================================
# External API Services
# =============================================================================
AVATAR_API_URL="https://api.dicebear.com/7.x/initials/svg"
AVATAR_FALLBACK_URL="https://api.dicebear.com/7.x/initials/svg?seed=user&size=80&backgroundColor=6b7280&textColor=ffffff"
DEFAULT_WEBHOOK_URL="https://your-production-domain.com/webhooks"

# =============================================================================
# Monitoring and Error Tracking - CONFIGURE FOR PRODUCTION
# =============================================================================
SENTRY_DSN="your-production-sentry-dsn"
NEW_RELIC_LICENSE_KEY="your-new-relic-license-key"
DATADOG_API_KEY="your-datadog-api-key"

# =============================================================================
# Security Settings (Production Hardened)
# =============================================================================
DISABLE_LOGIN_PAGE="false"
RATE_LIMIT_ENABLED="true"
CSRF_PROTECTION="true"
HELMET_ENABLED="true"
FORCE_HTTPS="true"

# Development Flags (Disabled in Production)
TEST_CLIENT_USER_EMAIL=""

# =============================================================================
# Performance and Timeout Settings (Production Optimized)
# =============================================================================
DEFAULT_TIMEOUT="30000"
HEALTH_CHECK_TIMEOUT="3000"
BULK_OPERATION_TIMEOUT="60000"
COMPLEX_OPERATION_TIMEOUT="60000"

# Cache Settings
DEVICE_CAPACITY_CACHE_TTL="300000"
REQUEST_TRACKING_CLEANUP_INTERVAL="300000"
REQUEST_TRACKING_CUTOFF="300000"
CACHE_TTL="300000"

# Performance Thresholds
SLOW_LOAD_THRESHOLD="2000"

# Error Recovery (Production Values)
ERROR_RECOVERY_DELAY="30000"
MAX_ERROR_RECOVERY_DELAY="300000"
RATE_LIMIT_RECOVERY_DELAY="300000"

# Scraping Configuration
SCRAPING_DELAY_BETWEEN_REQUESTS="5000"
SCRAPING_MAX_BACKOFF_DELAY="60000"

# WebSocket Settings
WS_MAX_RECONNECT_DELAY="30000"

# =============================================================================
# Prisma Configuration (Production)
# =============================================================================
PRISMA_ENGINES_CHECKSUM_IGNORE_MISSING="1"
PRISMA_ENGINE_TYPE="binary"

# =============================================================================
# SSL/TLS Configuration
# =============================================================================
SSL_CERT_PATH="/etc/ssl/certs/your-domain.pem"
SSL_KEY_PATH="/etc/ssl/private/your-domain.key"
SSL_CA_BUNDLE_PATH="/etc/ssl/certs/ca-bundle.crt"

# =============================================================================
# Redis Configuration (for caching and sessions)
# =============================================================================
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD="your-redis-password"
REDIS_DB="0"
REDIS_CONNECT_TIMEOUT="30000"

# =============================================================================
# Email Configuration (if needed for notifications)
# =============================================================================
SMTP_HOST="your-smtp-host.com"
SMTP_PORT="587"
SMTP_SECURE="true"
SMTP_USER="your-smtp-username"
SMTP_PASS="your-smtp-password"
FROM_EMAIL="noreply@your-production-domain.com"

# =============================================================================
# Backup Configuration
# =============================================================================
BACKUP_S3_BUCKET="your-backup-bucket"
BACKUP_S3_REGION="us-east-1"
BACKUP_S3_ACCESS_KEY="your-s3-access-key"
BACKUP_S3_SECRET_KEY="your-s3-secret-key"

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL="info"
LOG_FORMAT="json"
LOG_FILE_PATH="/app/logs"
LOG_MAX_SIZE="100m"
LOG_MAX_FILES="10"

# =============================================================================
# Feature Flags
# =============================================================================
FEATURE_ANALYTICS="true"
FEATURE_MONITORING="true"
FEATURE_BACKUP="true"
FEATURE_RATE_LIMITING="true"

# =============================================================================
# IMPORTANT PRODUCTION CHECKLIST
# =============================================================================
# Before deploying to production, ensure:
# □ All placeholder values replaced with real credentials
# □ Database password updated on production database
# □ Google OAuth credentials created for production domain
# □ SSL certificates installed and configured
# □ Domain DNS configured correctly
# □ Firewall rules configured
# □ Monitoring and alerting configured
# □ Backup strategy implemented
# □ Secrets rotated and secured
# □ Rate limiting tested
# □ Performance benchmarks met
# □ Security audit completed