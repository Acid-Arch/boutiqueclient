{"version":3,"file":"8-ZSpIYhUR.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/client-portal/settings/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/8.js"],"sourcesContent":["import { prisma } from \"../../../../chunks/database.js\";\nimport { l as logUserModelAccess } from \"../../../../chunks/model-access.js\";\nimport pg from \"pg\";\nimport { createHash } from \"crypto\";\nconst load = async ({ locals }) => {\n  if (!locals.user) {\n    return {\n      userSettings: {\n        profile: {\n          name: \"\",\n          email: \"\",\n          company: \"\",\n          role: \"\",\n          avatar: \"\"\n        },\n        notifications: {\n          emailAlerts: true,\n          pushNotifications: true,\n          weeklyReports: true,\n          securityAlerts: true\n        },\n        security: {\n          twoFactorEnabled: false,\n          lastPasswordChange: \"\",\n          activeSessions: 0\n        },\n        api: {\n          apiKey: \"sk_live_\" + Math.random().toString(36).substring(2, 24),\n          webhookUrl: \"https://yourapp.com/webhooks\",\n          rateLimitRemaining: 5e3\n        },\n        subscription: {\n          plan: \"Basic\",\n          accountLimit: 10,\n          currentAccounts: 0,\n          billingCycle: \"Monthly\",\n          nextBilling: \"\"\n        }\n      }\n    };\n  }\n  try {\n    logUserModelAccess(locals.user);\n    const userDetails = await getUserDetailsFromDatabase(locals.user);\n    const accountCount = await getUserAccountCount(locals.user);\n    console.log(`⚙️  Settings page: Loading data for user ${locals.user.email}`);\n    return {\n      userSettings: {\n        profile: {\n          name: userDetails.name || locals.user.name || locals.user.email,\n          email: userDetails.email || locals.user.email,\n          company: userDetails.company || locals.user.company || \"\",\n          role: userDetails.role || locals.user.role || \"CLIENT\",\n          avatar: userDetails.avatar || locals.user.avatar || `/api/avatar/${locals.user.email}`\n        },\n        notifications: {\n          emailAlerts: userDetails.emailAlerts ?? true,\n          pushNotifications: userDetails.pushNotifications ?? true,\n          weeklyReports: userDetails.weeklyReports ?? true,\n          securityAlerts: userDetails.securityAlerts ?? true\n        },\n        security: {\n          twoFactorEnabled: userDetails.twoFactorEnabled || locals.user.isTwoFactorEnabled || false,\n          lastPasswordChange: userDetails.lastPasswordChange || formatDate(locals.user.lastLoginAt) || \"\",\n          activeSessions: 1\n          // Current session\n        },\n        api: {\n          apiKey: generateApiKey(locals.user.id),\n          webhookUrl: userDetails.webhookUrl || \"https://yourapp.com/webhooks\",\n          rateLimitRemaining: 5e3\n        },\n        subscription: {\n          plan: locals.user.subscription || userDetails.subscription || \"Professional\",\n          accountLimit: 10,\n          currentAccounts: accountCount,\n          billingCycle: \"Monthly\",\n          nextBilling: getNextBillingDate()\n        }\n      }\n    };\n  } catch (error) {\n    console.error(\"Error loading settings data:\", error);\n    return {\n      userSettings: {\n        profile: {\n          name: locals.user.name || locals.user.email,\n          email: locals.user.email,\n          company: locals.user.company || \"\",\n          role: locals.user.role || \"CLIENT\",\n          avatar: locals.user.avatar || `/api/avatar/${locals.user.email}`\n        },\n        notifications: {\n          emailAlerts: true,\n          pushNotifications: true,\n          weeklyReports: true,\n          securityAlerts: true\n        },\n        security: {\n          twoFactorEnabled: locals.user.isTwoFactorEnabled || false,\n          lastPasswordChange: formatDate(locals.user.lastLoginAt) || \"\",\n          activeSessions: 1\n        },\n        api: {\n          apiKey: generateApiKey(locals.user.id),\n          webhookUrl: \"https://yourapp.com/webhooks\",\n          rateLimitRemaining: 5e3\n        },\n        subscription: {\n          plan: locals.user.subscription || \"Professional\",\n          accountLimit: 10,\n          currentAccounts: 0,\n          billingCycle: \"Monthly\",\n          nextBilling: getNextBillingDate()\n        }\n      }\n    };\n  }\n};\nasync function getUserDetailsFromDatabase(user) {\n  try {\n    const userDetails = await prisma.user.findUnique({\n      where: { id: parseInt(user.id) }\n    });\n    return userDetails || {};\n  } catch (error) {\n    console.log(\"⚠️  Prisma failed, using direct SQL for settings user data\");\n    return await getUserDetailsDirectSQL(user);\n  }\n}\nasync function getUserDetailsDirectSQL(user) {\n  const { Client } = pg;\n  const client = new Client({\n    connectionString: process.env.DATABASE_URL || \"postgresql://iglogin:boutiquepassword123@5.78.151.248:5432/igloginagent?sslmode=disable&connect_timeout=30\"\n  });\n  try {\n    await client.connect();\n    const userQuery = `\n\t\t\tSELECT \n\t\t\t\tid, email, name, company, role,\n\t\t\t\tis_active, is_two_factor_enabled, avatar, subscription,\n\t\t\t\tcreated_at, updated_at, last_login_at\n\t\t\tFROM users \n\t\t\tWHERE id = $1 OR email = $2\n\t\t\tLIMIT 1\n\t\t`;\n    const result = await client.query(userQuery, [user.id, user.email]);\n    if (result.rows.length > 0) {\n      const row = result.rows[0];\n      return {\n        id: row.id,\n        email: row.email,\n        name: row.name || row.email,\n        company: row.company,\n        role: row.role,\n        isActive: row.is_active,\n        twoFactorEnabled: row.is_two_factor_enabled,\n        avatar: row.avatar,\n        subscription: row.subscription,\n        createdAt: row.created_at,\n        updatedAt: row.updated_at,\n        lastLoginAt: row.last_login_at,\n        emailAlerts: true,\n        // Default values since these columns may not exist\n        pushNotifications: true,\n        weeklyReports: true,\n        securityAlerts: true,\n        webhookUrl: \"https://yourapp.com/webhooks\",\n        lastPasswordChange: formatDate(row.updated_at)\n      };\n    }\n    return {};\n  } catch (sqlError) {\n    console.error(\"Direct SQL query failed for user settings:\", sqlError);\n    return {};\n  } finally {\n    await client.end();\n  }\n}\nasync function getUserAccountCount(user) {\n  try {\n    const count = await prisma.igAccount.count({\n      where: {\n        OR: [\n          { ownerId: parseInt(user.id) },\n          ...user.email.includes(\"@gmail.com\") ? [{ model: \"Dillion\" }] : [],\n          ...user.email.includes(\"@hotmail.\") || user.email.includes(\"@live.\") || user.email.includes(\"@outlook.\") ? [{ model: \"katie\" }] : []\n        ]\n      }\n    });\n    return count;\n  } catch (error) {\n    console.log(\"⚠️  Using direct SQL for account count\");\n    return await getUserAccountCountDirectSQL(user);\n  }\n}\nasync function getUserAccountCountDirectSQL(user) {\n  const { Client } = pg;\n  const client = new Client({\n    connectionString: process.env.DATABASE_URL || \"postgresql://iglogin:boutiquepassword123@5.78.151.248:5432/igloginagent?sslmode=disable&connect_timeout=30\"\n  });\n  try {\n    await client.connect();\n    let modelFilter = \"\";\n    if (user.email && user.email.includes(\"@gmail.com\")) {\n      modelFilter = `OR (model = 'Dillion' AND (account_type != 'ML_TREND_FINDER' OR account_type IS NULL))`;\n    }\n    if (user.email && (user.email.includes(\"@hotmail.\") || user.email.includes(\"@live.\") || user.email.includes(\"@outlook.\"))) {\n      modelFilter = `OR (model = 'katie' AND (account_type != 'ML_TREND_FINDER' OR account_type IS NULL))`;\n    }\n    const countQuery = `\n\t\t\tSELECT COUNT(*) as count\n\t\t\tFROM ig_accounts \n\t\t\tWHERE (\n\t\t\t\t(owner_id = $1 AND (account_type != 'ML_TREND_FINDER' OR account_type IS NULL))\n\t\t\t\tOR \n\t\t\t\t(is_shared = true AND visibility IN ('SHARED', 'PUBLIC') AND (account_type != 'ML_TREND_FINDER' OR account_type IS NULL))\n\t\t\t\t${modelFilter}\n\t\t\t)\n\t\t`;\n    const result = await client.query(countQuery, [user.id]);\n    return parseInt(result.rows[0].count) || 0;\n  } finally {\n    await client.end();\n  }\n}\nfunction generateApiKey(userId) {\n  const hash = createHash(\"md5\").update(`api_key_${userId}_boutique`).digest(\"hex\");\n  return `sk_live_${hash.substring(0, 20)}`;\n}\nfunction formatDate(date) {\n  if (!date) return \"\";\n  try {\n    const d = new Date(date);\n    return d.toISOString().split(\"T\")[0];\n  } catch {\n    return \"\";\n  }\n}\nfunction getNextBillingDate() {\n  const nextMonth = /* @__PURE__ */ new Date();\n  nextMonth.setMonth(nextMonth.getMonth() + 1);\n  return formatDate(nextMonth);\n}\nexport {\n  load\n};\n","import * as server from '../entries/pages/client-portal/settings/_page.server.ts.js';\n\nexport const index = 8;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/client-portal/settings/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/client-portal/settings/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/8.BskcddDU.js\",\"_app/immutable/chunks/DsnmJJEf.js\",\"_app/immutable/chunks/DX-Oc8op.js\",\"_app/immutable/chunks/3zx2OM-S.js\",\"_app/immutable/chunks/Dwjkgfq3.js\",\"_app/immutable/chunks/lPcixCUF.js\",\"_app/immutable/chunks/BrzuSUaY.js\",\"_app/immutable/chunks/mTYbsNnE.js\",\"_app/immutable/chunks/BID1lDIu.js\",\"_app/immutable/chunks/z8oQ6GeD.js\",\"_app/immutable/chunks/CUm0MUH_.js\",\"_app/immutable/chunks/ugyboSLg.js\",\"_app/immutable/chunks/BQu96azb.js\",\"_app/immutable/chunks/DvgHziNU.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n"],"names":[],"mappings":"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"}