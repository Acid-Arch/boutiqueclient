{"version":3,"file":"hooks.server-CB6X72BE.js","sources":["../../../node_modules/@sveltejs/kit/src/exports/hooks/sequence.js","../../../.svelte-kit/adapter-node/chunks/hooks.server.js"],"sourcesContent":["/** @import { Handle, RequestEvent, ResolveOptions } from '@sveltejs/kit' */\n/** @import { MaybePromise } from 'types' */\nimport {\n\tmerge_tracing,\n\tget_request_store,\n\twith_request_store\n} from '@sveltejs/kit/internal/server';\n\n/**\n * A helper function for sequencing multiple `handle` calls in a middleware-like manner.\n * The behavior for the `handle` options is as follows:\n * - `transformPageChunk` is applied in reverse order and merged\n * - `preload` is applied in forward order, the first option \"wins\" and no `preload` options after it are called\n * - `filterSerializedResponseHeaders` behaves the same as `preload`\n *\n * ```js\n * /// file: src/hooks.server.js\n * import { sequence } from '@sveltejs/kit/hooks';\n *\n * /// type: import('@sveltejs/kit').Handle\n * async function first({ event, resolve }) {\n * \tconsole.log('first pre-processing');\n * \tconst result = await resolve(event, {\n * \t\ttransformPageChunk: ({ html }) => {\n * \t\t\t// transforms are applied in reverse order\n * \t\t\tconsole.log('first transform');\n * \t\t\treturn html;\n * \t\t},\n * \t\tpreload: () => {\n * \t\t\t// this one wins as it's the first defined in the chain\n * \t\t\tconsole.log('first preload');\n * \t\t\treturn true;\n * \t\t}\n * \t});\n * \tconsole.log('first post-processing');\n * \treturn result;\n * }\n *\n * /// type: import('@sveltejs/kit').Handle\n * async function second({ event, resolve }) {\n * \tconsole.log('second pre-processing');\n * \tconst result = await resolve(event, {\n * \t\ttransformPageChunk: ({ html }) => {\n * \t\t\tconsole.log('second transform');\n * \t\t\treturn html;\n * \t\t},\n * \t\tpreload: () => {\n * \t\t\tconsole.log('second preload');\n * \t\t\treturn true;\n * \t\t},\n * \t\tfilterSerializedResponseHeaders: () => {\n * \t\t\t// this one wins as it's the first defined in the chain\n * \t\t\tconsole.log('second filterSerializedResponseHeaders');\n * \t\t\treturn true;\n * \t\t}\n * \t});\n * \tconsole.log('second post-processing');\n * \treturn result;\n * }\n *\n * export const handle = sequence(first, second);\n * ```\n *\n * The example above would print:\n *\n * ```\n * first pre-processing\n * first preload\n * second pre-processing\n * second filterSerializedResponseHeaders\n * second transform\n * first transform\n * second post-processing\n * first post-processing\n * ```\n *\n * @param {...Handle} handlers The chain of `handle` functions\n * @returns {Handle}\n */\nexport function sequence(...handlers) {\n\tconst length = handlers.length;\n\tif (!length) return ({ event, resolve }) => resolve(event);\n\n\treturn ({ event, resolve }) => {\n\t\tconst { state } = get_request_store();\n\t\treturn apply_handle(0, event, {});\n\n\t\t/**\n\t\t * @param {number} i\n\t\t * @param {RequestEvent} event\n\t\t * @param {ResolveOptions | undefined} parent_options\n\t\t * @returns {MaybePromise<Response>}\n\t\t */\n\t\tfunction apply_handle(i, event, parent_options) {\n\t\t\tconst handle = handlers[i];\n\n\t\t\treturn state.tracing.record_span({\n\t\t\t\tname: `sveltekit.handle.sequenced.${handle.name ? handle.name : i}`,\n\t\t\t\tattributes: {},\n\t\t\t\tfn: async (current) => {\n\t\t\t\t\tconst traced_event = merge_tracing(event, current);\n\t\t\t\t\treturn await with_request_store({ event: traced_event, state }, () =>\n\t\t\t\t\t\thandle({\n\t\t\t\t\t\t\tevent: traced_event,\n\t\t\t\t\t\t\tresolve: (event, options) => {\n\t\t\t\t\t\t\t\t/** @type {ResolveOptions['transformPageChunk']} */\n\t\t\t\t\t\t\t\tconst transformPageChunk = async ({ html, done }) => {\n\t\t\t\t\t\t\t\t\tif (options?.transformPageChunk) {\n\t\t\t\t\t\t\t\t\t\thtml = (await options.transformPageChunk({ html, done })) ?? '';\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (parent_options?.transformPageChunk) {\n\t\t\t\t\t\t\t\t\t\thtml = (await parent_options.transformPageChunk({ html, done })) ?? '';\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn html;\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t/** @type {ResolveOptions['filterSerializedResponseHeaders']} */\n\t\t\t\t\t\t\t\tconst filterSerializedResponseHeaders =\n\t\t\t\t\t\t\t\t\tparent_options?.filterSerializedResponseHeaders ??\n\t\t\t\t\t\t\t\t\toptions?.filterSerializedResponseHeaders;\n\n\t\t\t\t\t\t\t\t/** @type {ResolveOptions['preload']} */\n\t\t\t\t\t\t\t\tconst preload = parent_options?.preload ?? options?.preload;\n\n\t\t\t\t\t\t\t\treturn i < length - 1\n\t\t\t\t\t\t\t\t\t? apply_handle(i + 1, event, {\n\t\t\t\t\t\t\t\t\t\t\ttransformPageChunk,\n\t\t\t\t\t\t\t\t\t\t\tfilterSerializedResponseHeaders,\n\t\t\t\t\t\t\t\t\t\t\tpreload\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t: resolve(event, {\n\t\t\t\t\t\t\t\t\t\t\ttransformPageChunk,\n\t\t\t\t\t\t\t\t\t\t\tfilterSerializedResponseHeaders,\n\t\t\t\t\t\t\t\t\t\t\tpreload\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}\n","import { redirect } from \"@sveltejs/kit\";\nimport { sequence } from \"@sveltejs/kit/hooks\";\nimport { d as dev } from \"./index.js\";\nimport { a as authHandle } from \"./auth.js\";\nimport { A as AuthService } from \"./auth-direct.js\";\nimport { l as logger, L as LogLevel } from \"./logger.js\";\nimport { r as recordResponseTime, i as incrementErrorCount } from \"./metrics.js\";\nimport { d as rateLimitMiddleware } from \"./rate-limiter-comprehensive.js\";\nconst PERMISSIONS = {\n  // Route Access Permissions\n  canAccessAdminPortal: (role) => role === \"ADMIN\",\n  canAccessClientPortal: (role) => [\"ADMIN\", \"CLIENT\", \"VIEWER\"].includes(role),\n  // Data Modification Permissions\n  canModifyAccounts: (role) => [\"ADMIN\", \"CLIENT\"].includes(role),\n  canModifyDevices: (role) => role === \"ADMIN\",\n  canModifyAutomation: (role) => [\"ADMIN\", \"CLIENT\"].includes(role),\n  canModifyScraping: (role) => [\"ADMIN\", \"CLIENT\"].includes(role),\n  // View Permissions\n  canViewAccounts: (role) => [\"ADMIN\", \"CLIENT\", \"VIEWER\"].includes(role),\n  canViewDevices: (role) => role === \"ADMIN\",\n  canViewAutomation: (role) => [\"ADMIN\", \"CLIENT\", \"VIEWER\"].includes(role),\n  canViewScraping: (role) => [\"ADMIN\", \"CLIENT\", \"VIEWER\"].includes(role),\n  canViewAnalytics: (role) => [\"ADMIN\", \"CLIENT\", \"VIEWER\"].includes(role),\n  // Administrative Permissions\n  canManageUsers: (role) => role === \"ADMIN\",\n  canManageSystem: (role) => role === \"ADMIN\",\n  canExportData: (role) => [\"ADMIN\", \"CLIENT\"].includes(role),\n  canImportData: (role) => [\"ADMIN\", \"CLIENT\"].includes(role),\n  // Bulk Operations\n  canPerformBulkOperations: (role) => [\"ADMIN\", \"CLIENT\"].includes(role),\n  // Chat/AI Features\n  canUseChatbot: (role) => [\"ADMIN\", \"CLIENT\", \"VIEWER\"].includes(role),\n  // Account Ownership Permissions\n  canViewOwnAccounts: (role) => [\"ADMIN\", \"CLIENT\", \"VIEWER\"].includes(role),\n  canViewMLAccounts: (role) => role === \"ADMIN\",\n  canViewAllAccounts: (role) => role === \"ADMIN\",\n  canManageAccountOwnership: (role) => role === \"ADMIN\",\n  canAssignAccounts: (role) => role === \"ADMIN\",\n  canViewUnassignedAccounts: (role) => role === \"ADMIN\"\n};\nconst userCan = {\n  accessAdminPortal: (user) => user ? PERMISSIONS.canAccessAdminPortal(user.role) : false,\n  accessClientPortal: (user) => user ? PERMISSIONS.canAccessClientPortal(user.role) : false,\n  modifyAccounts: (user) => user ? PERMISSIONS.canModifyAccounts(user.role) : false,\n  modifyDevices: (user) => user ? PERMISSIONS.canModifyDevices(user.role) : false,\n  modifyAutomation: (user) => user ? PERMISSIONS.canModifyAutomation(user.role) : false,\n  modifyScraping: (user) => user ? PERMISSIONS.canModifyScraping(user.role) : false,\n  viewAccounts: (user) => user ? PERMISSIONS.canViewAccounts(user.role) : false,\n  viewDevices: (user) => user ? PERMISSIONS.canViewDevices(user.role) : false,\n  viewAutomation: (user) => user ? PERMISSIONS.canViewAutomation(user.role) : false,\n  viewScraping: (user) => user ? PERMISSIONS.canViewScraping(user.role) : false,\n  viewAnalytics: (user) => user ? PERMISSIONS.canViewAnalytics(user.role) : false,\n  manageUsers: (user) => user ? PERMISSIONS.canManageUsers(user.role) : false,\n  manageSystem: (user) => user ? PERMISSIONS.canManageSystem(user.role) : false,\n  exportData: (user) => user ? PERMISSIONS.canExportData(user.role) : false,\n  importData: (user) => user ? PERMISSIONS.canImportData(user.role) : false,\n  performBulkOperations: (user) => user ? PERMISSIONS.canPerformBulkOperations(user.role) : false,\n  useChatbot: (user) => user ? PERMISSIONS.canUseChatbot(user.role) : false,\n  // Account Ownership Helper Functions\n  viewOwnAccounts: (user) => user ? PERMISSIONS.canViewOwnAccounts(user.role) : false,\n  viewMLAccounts: (user) => user ? PERMISSIONS.canViewMLAccounts(user.role) : false,\n  viewAllAccounts: (user) => user ? PERMISSIONS.canViewAllAccounts(user.role) : false,\n  manageAccountOwnership: (user) => user ? PERMISSIONS.canManageAccountOwnership(user.role) : false,\n  assignAccounts: (user) => user ? PERMISSIONS.canAssignAccounts(user.role) : false,\n  viewUnassignedAccounts: (user) => user ? PERMISSIONS.canViewUnassignedAccounts(user.role) : false\n};\nfunction getClientIP(request) {\n  const headers = request.headers;\n  return headers.get(\"cf-connecting-ip\") || headers.get(\"x-forwarded-for\")?.split(\",\")[0] || headers.get(\"x-real-ip\") || headers.get(\"x-client-ip\") || \"unknown\";\n}\nfunction getUserAgent(request) {\n  return request.headers.get(\"user-agent\") || \"unknown\";\n}\nfunction shouldLogRoute(pathname) {\n  const skipPatterns = [\n    \"/favicon.ico\",\n    \"/robots.txt\",\n    \"/_app/\",\n    \"/static/\",\n    \"/assets/\",\n    \"/__health\",\n    \"/__status\"\n  ];\n  return !skipPatterns.some((pattern) => pathname.startsWith(pattern));\n}\nfunction getLogLevel(statusCode) {\n  if (statusCode >= 500) return LogLevel.ERROR;\n  if (statusCode >= 400) return LogLevel.WARN;\n  if (statusCode >= 300) return LogLevel.INFO;\n  return LogLevel.DEBUG;\n}\nconst requestLoggingHandle = async ({ event, resolve }) => {\n  const { request, url } = event;\n  if (!shouldLogRoute(url.pathname)) {\n    return resolve(event);\n  }\n  const startTime = Date.now();\n  const requestId = logger.generateRequestId();\n  const ip = getClientIP(request);\n  const userAgent = getUserAgent(request);\n  event.locals.requestId = requestId;\n  logger.logAPI(LogLevel.DEBUG, \"Incoming request\", {\n    requestId,\n    method: request.method,\n    url: url.pathname + url.search,\n    statusCode: 0,\n    duration: 0,\n    ip,\n    userAgent,\n    userId: event.locals.user?.id\n  });\n  let response;\n  let error;\n  try {\n    response = await resolve(event);\n  } catch (err) {\n    error = err;\n    logger.logAPI(LogLevel.ERROR, \"Request failed with error\", {\n      requestId,\n      method: request.method,\n      url: url.pathname + url.search,\n      statusCode: 500,\n      duration: Date.now() - startTime,\n      ip,\n      userAgent,\n      userId: event.locals.user?.id,\n      error\n    });\n    throw err;\n  }\n  const duration = Date.now() - startTime;\n  const statusCode = response.status;\n  recordResponseTime(\n    url.pathname,\n    request.method,\n    statusCode,\n    duration,\n    event.locals.user?.id\n  );\n  if (statusCode >= 400) {\n    incrementErrorCount(\n      statusCode >= 500 ? \"server_error\" : \"client_error\",\n      url.pathname,\n      event.locals.user?.id\n    );\n  }\n  const logLevel = getLogLevel(statusCode);\n  logger.logAPI(logLevel, \"Request completed\", {\n    requestId,\n    method: request.method,\n    url: url.pathname + url.search,\n    statusCode,\n    duration,\n    ip,\n    userAgent,\n    userId: event.locals.user?.id\n  });\n  if (duration > 5e3) {\n    logger.logPerformance(LogLevel.WARN, \"Slow request detected\", {\n      metric: \"response_time\",\n      value: duration,\n      unit: \"ms\",\n      threshold: 5e3,\n      component: \"api\",\n      userId: event.locals.user?.id\n    });\n  }\n  if (url.pathname.startsWith(\"/api/auth/\")) {\n    const isSuccess = statusCode < 400;\n    logger.logAuth(\n      isSuccess ? LogLevel.INFO : LogLevel.WARN,\n      `Authentication ${request.method} ${isSuccess ? \"succeeded\" : \"failed\"}`,\n      {\n        userId: event.locals.user?.id,\n        email: event.locals.user?.email,\n        ip,\n        userAgent,\n        action: `${request.method}_${url.pathname.split(\"/\").pop()}`,\n        success: isSuccess,\n        reason: isSuccess ? void 0 : `HTTP ${statusCode}`\n      }\n    );\n  }\n  response.headers.set(\"X-Request-ID\", requestId);\n  return response;\n};\nconst SECURITY_HEADERS = {\n  // Content Security Policy - very important for XSS protection\n  \"Content-Security-Policy\": (\n    // Production CSP (relaxed for HTTP deployment testing)\n    [\n      \"default-src 'self'\",\n      \"script-src 'self' 'unsafe-inline' 'unsafe-eval' blob:\",\n      \"style-src 'self' 'unsafe-inline' https://fonts.googleapis.com\",\n      \"font-src 'self' https://fonts.gstatic.com\",\n      \"img-src 'self' data: blob: https:\",\n      \"media-src 'self' blob:\",\n      \"connect-src 'self' ws: wss: https:\",\n      \"worker-src 'self' blob:\",\n      \"frame-ancestors 'none'\",\n      \"base-uri 'self'\",\n      \"form-action 'self'\"\n    ].join(\"; \")\n  ),\n  // Prevent clickjacking attacks\n  \"X-Frame-Options\": \"DENY\",\n  // Prevent MIME type sniffing\n  \"X-Content-Type-Options\": \"nosniff\",\n  // Enable XSS filtering in browsers\n  \"X-XSS-Protection\": \"1; mode=block\",\n  // Control referrer information\n  \"Referrer-Policy\": \"strict-origin-when-cross-origin\",\n  // Prevent exposure of sensitive APIs to unauthorized origins (relaxed for HTTP testing)\n  // 'Cross-Origin-Embedder-Policy': 'credentialless',\n  // 'Cross-Origin-Opener-Policy': 'same-origin',\n  // 'Cross-Origin-Resource-Policy': 'same-origin',\n  // Control access to geolocation, camera, microphone, etc.\n  \"Permissions-Policy\": [\n    \"geolocation=()\",\n    \"microphone=()\",\n    \"camera=()\",\n    \"magnetometer=()\",\n    \"gyroscope=()\",\n    \"speaker=()\",\n    \"vibrate=()\",\n    \"fullscreen=(self)\",\n    \"payment=()\"\n  ].join(\", \")\n};\nconst HTTPS_HEADERS = {\n  // HTTP Strict Transport Security\n  \"Strict-Transport-Security\": \"max-age=31536000; includeSubDomains; preload\"\n};\nfunction generateCSPNonce() {\n  const bytes = new Uint8Array(16);\n  crypto.getRandomValues(bytes);\n  return btoa(String.fromCharCode(...bytes));\n}\nfunction applySecurityHeaders(response, event, options = {}) {\n  const {\n    enableCSP = true,\n    enableHSTS = !dev,\n    customHeaders = {}\n  } = options;\n  const headers = new Headers(response.headers);\n  const nonce = generateCSPNonce();\n  for (const [name, value] of Object.entries(SECURITY_HEADERS)) {\n    if (name === \"Content-Security-Policy\" && !enableCSP) {\n      continue;\n    }\n    let headerValue = value;\n    if (name === \"Content-Security-Policy\") {\n      headerValue = value.replace(/\\{NONCE\\}/g, nonce);\n    }\n    headers.set(name, headerValue);\n  }\n  if (enableHSTS && !dev) {\n    for (const [name, value] of Object.entries(HTTPS_HEADERS)) {\n      headers.set(name, value);\n    }\n  }\n  for (const [name, value] of Object.entries(customHeaders)) {\n    headers.set(name, value);\n  }\n  event.locals.cspNonce = nonce;\n  return new Response(response.body, {\n    status: response.status,\n    statusText: response.statusText,\n    headers\n  });\n}\nfunction validateIncomingHeaders(event) {\n  const threats = [];\n  const warnings = [];\n  const headers = event.request.headers;\n  const userAgent = headers.get(\"user-agent\") || \"\";\n  const suspiciousUAPatterns = [\n    /curl/i,\n    /wget/i,\n    /python/i,\n    /bot/i,\n    /crawler/i,\n    /spider/i,\n    /scraper/i\n  ];\n  if (!event.url.pathname.startsWith(\"/api/\") && !event.locals.user) {\n    for (const pattern of suspiciousUAPatterns) {\n      if (pattern.test(userAgent)) {\n        warnings.push(`Suspicious User-Agent detected: ${userAgent.substring(0, 50)}`);\n        break;\n      }\n    }\n  }\n  for (const [name, value] of headers.entries()) {\n    if (value.includes(\"\\r\\n\") || value.includes(\"\\n\") || value.includes(\"\\r\")) {\n      threats.push(`Header injection detected in ${name}`);\n    }\n    if (value.length > 8192) {\n      threats.push(`Excessively long header: ${name}`);\n    }\n  }\n  const referer = headers.get(\"referer\");\n  if (referer) {\n    try {\n      const refererUrl = new URL(referer);\n      const currentHost = event.url.hostname;\n      if (refererUrl.hostname !== currentHost && (event.url.pathname.includes(\"/admin\") || event.url.pathname.includes(\"/settings\") || event.request.method !== \"GET\")) {\n        warnings.push(`External referer on sensitive endpoint: ${refererUrl.hostname}`);\n      }\n    } catch {\n      warnings.push(\"Invalid referer URL format\");\n    }\n  }\n  if (event.url.pathname.startsWith(\"/api/\") && event.request.method !== \"GET\") {\n    const contentType = headers.get(\"content-type\");\n    if (!contentType || !contentType.includes(\"application/json\")) {\n      warnings.push(\"API request missing proper Content-Type header\");\n    }\n  }\n  const forwardedFor = headers.get(\"x-forwarded-for\");\n  if (forwardedFor) {\n    const ips = forwardedFor.split(\",\").map((ip) => ip.trim());\n    if (ips.length > 10) {\n      threats.push(\"Too many IPs in X-Forwarded-For header\");\n    }\n    for (const ip of ips) {\n      if (/^(10\\.|172\\.(1[6-9]|2\\d|3[01])\\.|192\\.168\\.)/.test(ip)) {\n        warnings.push(\"Private IP detected in X-Forwarded-For\");\n      }\n    }\n  }\n  const valid = threats.length === 0;\n  if (threats.length > 0 || warnings.length > 0) {\n    logger.logSecurity(\n      threats.length > 0 ? LogLevel.WARN : LogLevel.INFO,\n      `Security header validation: ${threats.length} threats, ${warnings.length} warnings`,\n      {\n        eventType: \"header_security_check\",\n        severity: threats.length > 0 ? \"high\" : \"low\",\n        ip: event.getClientAddress(),\n        userAgent,\n        details: {\n          url: event.url.pathname,\n          method: event.request.method,\n          threats,\n          warnings,\n          headerCount: Array.from(headers.keys()).length\n        }\n      }\n    );\n  }\n  return { valid, threats, warnings };\n}\nfunction getCORSHeaders(event) {\n  const origin = event.request.headers.get(\"origin\");\n  const allowedOrigins = [];\n  const headers = {\n    \"Access-Control-Allow-Methods\": \"GET, POST, PUT, DELETE, OPTIONS\",\n    \"Access-Control-Allow-Headers\": \"Content-Type, Authorization, X-Requested-With\",\n    \"Access-Control-Max-Age\": \"86400\",\n    // 24 hours\n    \"Vary\": \"Origin\"\n  };\n  if (origin && allowedOrigins.includes(origin)) {\n    headers[\"Access-Control-Allow-Origin\"] = origin;\n    headers[\"Access-Control-Allow-Credentials\"] = \"true\";\n  }\n  return headers;\n}\nfunction handleCORSPreflight(event) {\n  if (event.request.method === \"OPTIONS\") {\n    const corsHeaders = getCORSHeaders(event);\n    return new Response(null, {\n      status: 204,\n      headers: corsHeaders\n    });\n  }\n  return null;\n}\nconst securityMiddleware = async ({ event, resolve }) => {\n  const corsResponse = handleCORSPreflight(event);\n  if (corsResponse) {\n    return corsResponse;\n  }\n  const headerValidation = validateIncomingHeaders(event);\n  if (!headerValidation.valid) {\n    logger.logSecurity(LogLevel.ERROR, \"Request blocked due to security threats\", {\n      eventType: \"request_blocked\",\n      severity: \"critical\",\n      ip: event.getClientAddress(),\n      userAgent: event.request.headers.get(\"user-agent\"),\n      details: {\n        url: event.url.pathname,\n        method: event.request.method,\n        threats: headerValidation.threats\n      }\n    });\n    return new Response(\"Forbidden\", {\n      status: 403,\n      headers: {\n        \"Content-Type\": \"text/plain\",\n        \"X-Security-Block\": \"header-threats\"\n      }\n    });\n  }\n  const response = await resolve(event);\n  return applySecurityHeaders(response, event);\n};\nconst ADMIN_ONLY_ROUTES = [\"/admin-portal\", \"/accounts\", \"/devices\", \"/scraping\", \"/settings\"];\nconst CLIENT_PORTAL_ROUTES = [\"/client-portal\"];\nconst UNAUTHORIZED_ROUTES = [\"/access-pending\"];\nconst AUTH_ROUTES = [\"/login\", \"/register\", \"/forgot-password\", \"/reset-password\", \"/api/auth\", \"/api/test-login\"];\nconst PUBLIC_ROUTES = [\"/unauthorized\"];\nconst rateLimitHandle = async ({ event, resolve }) => {\n  const pathname = event.url.pathname;\n  const isBasicPageLoad = pathname === \"/\" || pathname === \"/login\" || pathname.startsWith(\"/client-portal\");\n  if (!isBasicPageLoad && (pathname.startsWith(\"/api/\") || event.request.method !== \"GET\")) {\n    const rateLimitResponse = await rateLimitMiddleware(event);\n    if (rateLimitResponse) {\n      return rateLimitResponse;\n    }\n  }\n  return resolve(event);\n};\nconst customAuthHandle = async ({ event, resolve }) => {\n  const { cookies, url, request } = event;\n  const sessionCookie = cookies.get(\"session\");\n  if (sessionCookie) {\n    try {\n      if (typeof sessionCookie !== \"string\" || sessionCookie.length > 256) {\n        throw new Error(\"Invalid session cookie format\");\n      }\n      const parts = sessionCookie.split(\":\");\n      if (parts.length !== 2) {\n        throw new Error(\"Invalid session cookie structure\");\n      }\n      const [userIdStr, sessionToken] = parts;\n      if (!userIdStr || !sessionToken || userIdStr.length > 50 || sessionToken.length > 128 || !/^[a-zA-Z0-9_-]+$/.test(userIdStr) || !/^[a-zA-Z0-9_-]+$/.test(sessionToken)) {\n        throw new Error(\"Invalid session cookie content\");\n      }\n      if (AuthService.isValidSessionToken(sessionToken)) {\n        const user = await AuthService.getUserById(userIdStr);\n        if (user && user.isActive) {\n          event.locals.user = user;\n        } else {\n          cookies.delete(\"session\", { path: \"/\", secure: !dev, httpOnly: true, sameSite: \"lax\" });\n        }\n      } else {\n        throw new Error(\"Invalid session token\");\n      }\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n      console.warn(\"Invalid session cookie detected, clearing:\", errorMessage);\n      cookies.delete(\"session\", { path: \"/\", secure: !dev, httpOnly: true, sameSite: \"lax\" });\n    }\n  }\n  if (!event.locals.user && event.locals.auth) {\n    try {\n      const authSession = await event.locals.auth();\n      if (authSession?.user?.email) {\n        const customUser = {\n          id: authSession.user.id || `oauth_${authSession.user.email}`,\n          email: authSession.user.email,\n          name: authSession.user.name || authSession.user.email,\n          role: \"CLIENT\",\n          // Default role for OAuth users\n          isActive: true,\n          company: null,\n          avatar: authSession.user.image,\n          subscription: \"Professional\",\n          lastLoginAt: /* @__PURE__ */ new Date()\n        };\n        event.locals.user = customUser;\n        console.log(`🔐 Auth.js session found for: ${authSession.user.email}`);\n      }\n    } catch (error) {\n      console.error(\"Error checking Auth.js session:\", error);\n    }\n  }\n  const pathname = url.pathname;\n  const isAuthRoute = AUTH_ROUTES.some((route) => pathname.startsWith(route));\n  const isPublicRoute = PUBLIC_ROUTES.some((route) => pathname.startsWith(route));\n  const isUnauthorizedRoute = UNAUTHORIZED_ROUTES.some((route) => pathname.startsWith(route));\n  const isOAuthRoute = pathname.startsWith(\"/auth/\") || pathname.startsWith(\"/api/auth/oauth/\");\n  const isApiRoute = pathname.startsWith(\"/api/\");\n  const isAdminRoute = ADMIN_ONLY_ROUTES.some((route) => pathname.startsWith(route));\n  const isClientPortalRoute = CLIENT_PORTAL_ROUTES.some((route) => pathname.startsWith(route));\n  if (isOAuthRoute || isPublicRoute || isUnauthorizedRoute) {\n    return resolve(event);\n  }\n  if (!event.locals.user) {\n    if (isAuthRoute) {\n      return resolve(event);\n    }\n    const redirectUrl = `/login?redirectTo=${encodeURIComponent(pathname)}`;\n    throw redirect(302, redirectUrl);\n  }\n  if (isAuthRoute && event.locals.user) {\n    if (userCan.accessAdminPortal(event.locals.user)) {\n      throw redirect(302, \"/admin-portal\");\n    } else if (userCan.accessClientPortal(event.locals.user)) {\n      throw redirect(302, \"/client-portal\");\n    } else if (event.locals.user.role === \"UNAUTHORIZED\") {\n      throw redirect(302, \"/access-pending\");\n    }\n    throw redirect(302, \"/login\");\n  }\n  if (!event.locals.user) {\n    return resolve(event);\n  }\n  const userRole = event.locals.user.role;\n  if (userRole === \"UNAUTHORIZED\" && !isUnauthorizedRoute) {\n    throw redirect(302, \"/access-pending\");\n  }\n  if (isAdminRoute && !userCan.accessAdminPortal(event.locals.user)) {\n    const isProfilePage = pathname.startsWith(\"/scraping/profile/\");\n    if (isProfilePage && (userRole === \"CLIENT\" || userRole === \"VIEWER\")) ;\n    else {\n      throw redirect(302, `/unauthorized?from=${encodeURIComponent(pathname)}`);\n    }\n  }\n  if (isClientPortalRoute && !userCan.accessClientPortal(event.locals.user)) {\n    throw redirect(302, `/unauthorized?from=${encodeURIComponent(pathname)}`);\n  }\n  if (isApiRoute) {\n    const method = event.request.method;\n    const apiPath = pathname;\n    if (userRole === \"UNAUTHORIZED\") {\n      return new Response(\n        JSON.stringify({\n          error: \"Access pending: Your account requires administrator approval\",\n          code: \"ACCESS_PENDING\"\n        }),\n        {\n          status: 403,\n          headers: { \"Content-Type\": \"application/json\" }\n        }\n      );\n    }\n    if ([\"POST\", \"PUT\", \"DELETE\"].includes(method)) {\n      if (userRole === \"VIEWER\") {\n        return new Response(\n          JSON.stringify({\n            error: \"Forbidden: Viewers cannot perform modification operations\",\n            code: \"INSUFFICIENT_PERMISSIONS\"\n          }),\n          {\n            status: 403,\n            headers: { \"Content-Type\": \"application/json\" }\n          }\n        );\n      }\n      if (apiPath.startsWith(\"/api/devices\") && userRole !== \"ADMIN\") {\n        return new Response(\n          JSON.stringify({\n            error: \"Forbidden: Only administrators can manage devices\",\n            code: \"ADMIN_REQUIRED\"\n          }),\n          {\n            status: 403,\n            headers: { \"Content-Type\": \"application/json\" }\n          }\n        );\n      }\n    }\n    if (apiPath.startsWith(\"/api/devices\") && userRole !== \"ADMIN\") {\n      return new Response(\n        JSON.stringify({\n          error: \"Forbidden: Only administrators can access device information\",\n          code: \"ADMIN_REQUIRED\"\n        }),\n        {\n          status: 403,\n          headers: { \"Content-Type\": \"application/json\" }\n        }\n      );\n    }\n  }\n  return resolve(event);\n};\nconst handleError = async ({ error, event, status, message }) => {\n  const errorId = `err_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  const userId = event.locals.user?.id;\n  const requestId = event.locals.requestId;\n  const ip = event.getClientAddress();\n  const userAgent = event.request.headers.get(\"user-agent\");\n  logger.logSystem(LogLevel.ERROR, `Server error: ${message}`, {\n    component: \"server-error-handler\",\n    event: \"server_error\",\n    details: {\n      errorId,\n      status,\n      message,\n      url: event.url.pathname,\n      method: event.request.method,\n      userId,\n      requestId,\n      ip,\n      userAgent,\n      stack: void 0\n    },\n    error: error instanceof Error ? error : void 0\n  });\n  if (status >= 500) {\n    logger.logSecurity(LogLevel.ERROR, `Critical server error: ${message}`, {\n      eventType: \"server_error\",\n      severity: \"high\",\n      userId,\n      ip,\n      userAgent,\n      details: {\n        errorId,\n        status,\n        url: event.url.pathname,\n        method: event.request.method\n      }\n    });\n  }\n  return {\n    id: errorId,\n    message: \"An internal error occurred\",\n    ...dev\n  };\n};\nconst handle = sequence(requestLoggingHandle, securityMiddleware, rateLimitHandle, authHandle, customAuthHandle);\nexport {\n  handle,\n  handleError\n};\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}