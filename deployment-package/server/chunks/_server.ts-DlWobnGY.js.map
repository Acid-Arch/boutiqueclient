{"version":3,"file":"_server.ts-DlWobnGY.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/devices/assign/_server.ts.js"],"sourcesContent":["import { json } from \"@sveltejs/kit\";\nimport { assignAccountToClone } from \"../../../../../chunks/db-loader.js\";\nconst POST = async ({ request }) => {\n  try {\n    const body = await request.json();\n    const { deviceId, cloneNumber, instagramUsername } = body;\n    if (!deviceId || cloneNumber === void 0 || !instagramUsername) {\n      return json(\n        { error: \"Missing required fields: deviceId, cloneNumber, instagramUsername\" },\n        { status: 400 }\n      );\n    }\n    const success = await assignAccountToClone(deviceId, cloneNumber, instagramUsername);\n    if (success) {\n      return json({\n        message: `Successfully assigned ${instagramUsername} to device ${deviceId} clone ${cloneNumber}`\n      });\n    } else {\n      return json(\n        { error: \"Failed to assign account to clone. The clone may already be assigned or the account may not exist.\" },\n        { status: 400 }\n      );\n    }\n  } catch (error) {\n    console.error(\"Failed to assign account to clone:\", error);\n    return json(\n      { error: \"An error occurred while assigning the account\" },\n      { status: 500 }\n    );\n  }\n};\nexport {\n  POST\n};\n"],"names":[],"mappings":";;;;AAEK,MAAC,IAAI,GAAG,OAAO,EAAE,OAAO,EAAE,KAAK;AACpC,EAAE,IAAI;AACN,IAAI,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE;AACrC,IAAI,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,iBAAiB,EAAE,GAAG,IAAI;AAC7D,IAAI,IAAI,CAAC,QAAQ,IAAI,WAAW,KAAK,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE;AACnE,MAAM,OAAO,IAAI;AACjB,QAAQ,EAAE,KAAK,EAAE,mEAAmE,EAAE;AACtF,QAAQ,EAAE,MAAM,EAAE,GAAG;AACrB,OAAO;AACP,IAAI;AACJ,IAAI,MAAM,OAAO,GAAG,MAAM,oBAAoB,CAAC,QAAQ,EAAE,WAAW,EAAE,iBAAiB,CAAC;AACxF,IAAI,IAAI,OAAO,EAAE;AACjB,MAAM,OAAO,IAAI,CAAC;AAClB,QAAQ,OAAO,EAAE,CAAC,sBAAsB,EAAE,iBAAiB,CAAC,WAAW,EAAE,QAAQ,CAAC,OAAO,EAAE,WAAW,CAAC;AACvG,OAAO,CAAC;AACR,IAAI,CAAC,MAAM;AACX,MAAM,OAAO,IAAI;AACjB,QAAQ,EAAE,KAAK,EAAE,oGAAoG,EAAE;AACvH,QAAQ,EAAE,MAAM,EAAE,GAAG;AACrB,OAAO;AACP,IAAI;AACJ,EAAE,CAAC,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,oCAAoC,EAAE,KAAK,CAAC;AAC9D,IAAI,OAAO,IAAI;AACf,MAAM,EAAE,KAAK,EAAE,+CAA+C,EAAE;AAChE,MAAM,EAAE,MAAM,EAAE,GAAG;AACnB,KAAK;AACL,EAAE;AACF;;;;"}