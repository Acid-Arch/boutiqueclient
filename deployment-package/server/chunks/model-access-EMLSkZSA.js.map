{"version":3,"file":"model-access-EMLSkZSA.js","sources":["../../../.svelte-kit/adapter-node/chunks/model-access.js"],"sourcesContent":["function getUserModelAccess(user) {\n  const assignedModels = [];\n  if (user.email && user.email.includes(\"@gmail.com\")) {\n    assignedModels.push(\"Dillion\");\n  }\n  if (user.email && (user.email.includes(\"@hotmail.\") || user.email.includes(\"@live.\") || user.email.includes(\"@outlook.\"))) {\n    assignedModels.push(\"katie\");\n  }\n  if (user.role === \"ADMIN\") {\n    assignedModels.push(\"Dillion\", \"katie\", \"Premium\", \"Basic\");\n  }\n  return assignedModels;\n}\nfunction getAccountsFilterForUser(user) {\n  const userModels = getUserModelAccess(user);\n  const userId = parseInt(user.id) || null;\n  return {\n    OR: [\n      // Direct ownership\n      { ownerId: userId },\n      // Model-based access\n      ...userModels.length > 0 ? [{ model: { in: userModels } }] : []\n    ]\n  };\n}\nfunction logUserModelAccess(user) {\n  const models = getUserModelAccess(user);\n  console.log(`ðŸ”‘ User ${user.email} has access to models: [${models.join(\", \")}]`);\n  return models;\n}\nexport {\n  getAccountsFilterForUser as g,\n  logUserModelAccess as l\n};\n"],"names":[],"mappings":"AAAA,SAAS,kBAAkB,CAAC,IAAI,EAAE;AAClC,EAAE,MAAM,cAAc,GAAG,EAAE;AAC3B,EAAE,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;AACvD,IAAI,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC;AAClC,EAAE;AACF,EAAE,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,EAAE;AAC7H,IAAI,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC;AAChC,EAAE;AACF,EAAE,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,EAAE;AAC7B,IAAI,cAAc,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE,SAAS,EAAE,OAAO,CAAC;AAC/D,EAAE;AACF,EAAE,OAAO,cAAc;AACvB;AACA,SAAS,wBAAwB,CAAC,IAAI,EAAE;AACxC,EAAE,MAAM,UAAU,GAAG,kBAAkB,CAAC,IAAI,CAAC;AAC7C,EAAE,MAAM,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,IAAI;AAC1C,EAAE,OAAO;AACT,IAAI,EAAE,EAAE;AACR;AACA,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE;AACzB;AACA,MAAM,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,CAAC,GAAG;AACnE;AACA,GAAG;AACH;AACA,SAAS,kBAAkB,CAAC,IAAI,EAAE;AAClC,EAAE,MAAM,MAAM,GAAG,kBAAkB,CAAC,IAAI,CAAC;AACzC,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,wBAAwB,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AACnF,EAAE,OAAO,MAAM;AACf;;;;"}