{"version":3,"file":"_page.svelte-C8OVcGQ0.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/client-portal/settings/_page.svelte.js"],"sourcesContent":["import { m as sanitize_props, o as spread_props, r as slot, u as copy_payload, v as assign_payload, l as bind_props, p as pop, f as push, h as head, j as escape_html, D as attr_class, E as stringify } from \"../../../../chunks/index3.js\";\nimport \"clsx\";\nimport { B as Button } from \"../../../../chunks/badge.js\";\nimport { I as Icon } from \"../../../../chunks/Icon.js\";\nfunction Save($$payload, $$props) {\n  const $$sanitized_props = sanitize_props($$props);\n  /**\n   * @license lucide-svelte v0.539.0 - ISC\n   *\n   * ISC License\n   *\n   * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.\n   *\n   * Permission to use, copy, modify, and/or distribute this software for any\n   * purpose with or without fee is hereby granted, provided that the above\n   * copyright notice and this permission notice appear in all copies.\n   *\n   * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n   * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n   * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n   * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n   * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n   * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n   * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n   *\n   */\n  const iconNode = [\n    [\n      \"path\",\n      {\n        \"d\": \"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\"\n      }\n    ],\n    [\"path\", { \"d\": \"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\" }],\n    [\"path\", { \"d\": \"M7 3v4a1 1 0 0 0 1 1h7\" }]\n  ];\n  Icon($$payload, spread_props([\n    { name: \"save\" },\n    $$sanitized_props,\n    {\n      /**\n       * @component @name Save\n       * @description Lucide SVG icon component, renders SVG Element with children.\n       *\n       * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n       * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation\n       *\n       * @param {Object} props - Lucide icons props and any valid SVG attribute\n       * @returns {FunctionalComponent} Svelte component\n       *\n       */\n      iconNode,\n      children: ($$payload2) => {\n        $$payload2.out.push(`<!---->`);\n        slot($$payload2, $$props, \"default\", {}, null);\n        $$payload2.out.push(`<!---->`);\n      },\n      $$slots: { default: true }\n    }\n  ]));\n}\nfunction _page($$payload, $$props) {\n  push();\n  let userSettings;\n  let data = $$props[\"data\"];\n  let saving = false;\n  let saveMessage = \"\";\n  async function saveSettings() {\n    console.log(\"ðŸ”¥ saveSettings function called!\");\n    if (saving) return;\n    saving = true;\n    saveMessage = \"\";\n    try {\n      console.log(\"ðŸ”¥ Saving settings...\", userSettings);\n      const response = await fetch(\"/api/settings\", {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          profile: {\n            name: userSettings.profile.name,\n            company: userSettings.profile.company\n          },\n          notifications: userSettings.notifications\n        })\n      });\n      if (response.ok) {\n        const result = await response.json();\n        saveMessage = \"âœ… Settings saved successfully!\";\n        console.log(\"Settings saved:\", result);\n        setTimeout(\n          () => {\n            saveMessage = \"\";\n          },\n          3e3\n        );\n      } else {\n        const error = await response.json();\n        saveMessage = `âŒ Error: ${error.error || \"Failed to save settings\"}`;\n        console.error(\"Save error:\", error);\n      }\n    } catch (error) {\n      saveMessage = \"âŒ Network error occurred while saving\";\n      console.error(\"Network error:\", error);\n    } finally {\n      saving = false;\n    }\n  }\n  userSettings = data.userSettings;\n  let $$settled = true;\n  let $$inner_payload;\n  function $$render_inner($$payload2) {\n    head($$payload2, ($$payload3) => {\n      $$payload3.title = `<title>Settings - Client Portal</title>`;\n    });\n    $$payload2.out.push(`<div class=\"space-y-6\"><div class=\"flex items-center justify-between\"><div><h1 class=\"text-3xl font-bold text-white\">Settings</h1> <p class=\"text-slate-300 mt-1\">Manage your account preferences and configuration</p></div> <div class=\"flex flex-col items-end gap-2 relative z-10\">`);\n    if (saveMessage) {\n      $$payload2.out.push(\"<!--[-->\");\n      $$payload2.out.push(`<div${attr_class(`text-sm ${stringify(saveMessage.startsWith(\"âœ…\") ? \"text-green-400\" : \"text-red-400\")}`)}>${escape_html(saveMessage)}</div>`);\n    } else {\n      $$payload2.out.push(\"<!--[!-->\");\n    }\n    $$payload2.out.push(`<!--]--> `);\n    Button($$payload2, {\n      onclick: saveSettings,\n      disabled: saving,\n      class: \"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed relative z-20\",\n      children: ($$payload3) => {\n        Save($$payload3, { class: \"w-4 h-4 mr-2\" });\n        $$payload3.out.push(`<!----> ${escape_html(saving ? \"Saving...\" : \"Save Changes\")}`);\n      },\n      $$slots: { default: true }\n    });\n    $$payload2.out.push(`<!----></div></div> `);\n    {\n      $$payload2.out.push(\"<!--[!-->\");\n    }\n    $$payload2.out.push(`<!--]--></div>`);\n  }\n  do {\n    $$settled = true;\n    $$inner_payload = copy_payload($$payload);\n    $$render_inner($$inner_payload);\n  } while (!$$settled);\n  assign_payload($$payload, $$inner_payload);\n  bind_props($$props, { data });\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":";;;;;;;AAIA,SAAS,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE;AAClC,EAAE,MAAM,iBAAiB,GAAG,cAAc,CAAC,OAAO,CAAC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,QAAQ,GAAG;AACnB,IAAI;AACJ,MAAM,MAAM;AACZ,MAAM;AACN,QAAQ,GAAG,EAAE;AACb;AACA,KAAK;AACL,IAAI,CAAC,MAAM,EAAE,EAAE,GAAG,EAAE,2CAA2C,EAAE,CAAC;AAClE,IAAI,CAAC,MAAM,EAAE,EAAE,GAAG,EAAE,wBAAwB,EAAE;AAC9C,GAAG;AACH,EAAE,IAAI,CAAC,SAAS,EAAE,YAAY,CAAC;AAC/B,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE;AACpB,IAAI,iBAAiB;AACrB,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,QAAQ;AACd,MAAM,QAAQ,EAAE,CAAC,UAAU,KAAK;AAChC,QAAQ,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AACtC,QAAQ,IAAI,CAAC,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,EAAE,EAAE,IAAI,CAAC;AACtD,QAAQ,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AACtC,MAAM,CAAC;AACP,MAAM,OAAO,EAAE,EAAE,OAAO,EAAE,IAAI;AAC9B;AACA,GAAG,CAAC,CAAC;AACL;AACA,SAAS,KAAK,CAAC,SAAS,EAAE,OAAO,EAAE;AACnC,EAAE,IAAI,EAAE;AACR,EAAE,IAAI,YAAY;AAClB,EAAE,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC;AAC5B,EAAE,IAAI,MAAM,GAAG,KAAK;AACpB,EAAE,IAAI,WAAW,GAAG,EAAE;AACtB,EAAE,eAAe,YAAY,GAAG;AAChC,IAAI,OAAO,CAAC,GAAG,CAAC,kCAAkC,CAAC;AACnD,IAAI,IAAI,MAAM,EAAE;AAChB,IAAI,MAAM,GAAG,IAAI;AACjB,IAAI,WAAW,GAAG,EAAE;AACpB,IAAI,IAAI;AACR,MAAM,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,YAAY,CAAC;AACxD,MAAM,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,eAAe,EAAE;AACpD,QAAQ,MAAM,EAAE,KAAK;AACrB,QAAQ,OAAO,EAAE,EAAE,cAAc,EAAE,kBAAkB,EAAE;AACvD,QAAQ,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC;AAC7B,UAAU,OAAO,EAAE;AACnB,YAAY,IAAI,EAAE,YAAY,CAAC,OAAO,CAAC,IAAI;AAC3C,YAAY,OAAO,EAAE,YAAY,CAAC,OAAO,CAAC;AAC1C,WAAW;AACX,UAAU,aAAa,EAAE,YAAY,CAAC;AACtC,SAAS;AACT,OAAO,CAAC;AACR,MAAM,IAAI,QAAQ,CAAC,EAAE,EAAE;AACvB,QAAQ,MAAM,MAAM,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;AAC5C,QAAQ,WAAW,GAAG,gCAAgC;AACtD,QAAQ,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,MAAM,CAAC;AAC9C,QAAQ,UAAU;AAClB,UAAU,MAAM;AAChB,YAAY,WAAW,GAAG,EAAE;AAC5B,UAAU,CAAC;AACX,UAAU;AACV,SAAS;AACT,MAAM,CAAC,MAAM;AACb,QAAQ,MAAM,KAAK,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;AAC3C,QAAQ,WAAW,GAAG,CAAC,SAAS,EAAE,KAAK,CAAC,KAAK,IAAI,yBAAyB,CAAC,CAAC;AAC5E,QAAQ,OAAO,CAAC,KAAK,CAAC,aAAa,EAAE,KAAK,CAAC;AAC3C,MAAM;AACN,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;AACpB,MAAM,WAAW,GAAG,uCAAuC;AAC3D,MAAM,OAAO,CAAC,KAAK,CAAC,gBAAgB,EAAE,KAAK,CAAC;AAC5C,IAAI,CAAC,SAAS;AACd,MAAM,MAAM,GAAG,KAAK;AACpB,IAAI;AACJ,EAAE;AACF,EAAE,YAAY,GAAG,IAAI,CAAC,YAAY;AAClC,EAAE,IAAI,SAAS,GAAG,IAAI;AACtB,EAAE,IAAI,eAAe;AACrB,EAAE,SAAS,cAAc,CAAC,UAAU,EAAE;AACtC,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC,UAAU,KAAK;AACrC,MAAM,UAAU,CAAC,KAAK,GAAG,CAAC,uCAAuC,CAAC;AAClE,IAAI,CAAC,CAAC;AACN,IAAI,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,uRAAuR,CAAC,CAAC;AAClT,IAAI,IAAI,WAAW,EAAE;AACrB,MAAM,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;AACrC,MAAM,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,QAAQ,EAAE,SAAS,CAAC,WAAW,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,gBAAgB,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,CAAC;AACzK,IAAI,CAAC,MAAM;AACX,MAAM,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;AACtC,IAAI;AACJ,IAAI,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC;AACpC,IAAI,MAAM,CAAC,UAAU,EAAE;AACvB,MAAM,OAAO,EAAE,YAAY;AAC3B,MAAM,QAAQ,EAAE,MAAM;AACtB,MAAM,KAAK,EAAE,wGAAwG;AACrH,MAAM,QAAQ,EAAE,CAAC,UAAU,KAAK;AAChC,QAAQ,IAAI,CAAC,UAAU,EAAE,EAAE,KAAK,EAAE,cAAc,EAAE,CAAC;AACnD,QAAQ,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,MAAM,GAAG,WAAW,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;AAC5F,MAAM,CAAC;AACP,MAAM,OAAO,EAAE,EAAE,OAAO,EAAE,IAAI;AAC9B,KAAK,CAAC;AACN,IAAI,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,oBAAoB,CAAC,CAAC;AAC/C,IAAI;AACJ,MAAM,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;AACtC,IAAI;AACJ,IAAI,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC;AACzC,EAAE;AACF,EAAE,GAAG;AACL,IAAI,SAAS,GAAG,IAAI;AACpB,IAAI,eAAe,GAAG,YAAY,CAAC,SAAS,CAAC;AAC7C,IAAI,cAAc,CAAC,eAAe,CAAC;AACnC,EAAE,CAAC,QAAQ,CAAC,SAAS;AACrB,EAAE,cAAc,CAAC,SAAS,EAAE,eAAe,CAAC;AAC5C,EAAE,UAAU,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE,CAAC;AAC/B,EAAE,GAAG,EAAE;AACP;;;;"}