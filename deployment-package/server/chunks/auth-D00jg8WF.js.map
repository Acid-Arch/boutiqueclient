{"version":3,"file":"auth-D00jg8WF.js","sources":["../../../.svelte-kit/adapter-node/chunks/auth.js"],"sourcesContent":["import { redirect } from \"@sveltejs/kit\";\nimport { p as private_env } from \"./shared-server.js\";\nimport { skipCSRFCheck, setEnvDefaults as setEnvDefaults$1, createActionURL, Auth, raw, isAuthAction } from \"@auth/core\";\nimport { d as dev } from \"./index.js\";\nimport { b as base, a as building } from \"./environment.js\";\nimport { parse } from \"set-cookie-parser\";\nimport \"@auth/core/errors\";\nfunction setEnvDefaults(envObject, config) {\n  config.trustHost ??= dev;\n  config.basePath = `${base}/auth`;\n  config.skipCSRFCheck = skipCSRFCheck;\n  if (building)\n    return;\n  setEnvDefaults$1(envObject, config);\n}\nasync function signIn(provider, options = {}, authorizationParams, config, event) {\n  const { request, url: { protocol } } = event;\n  const headers = new Headers(request.headers);\n  const { redirect: shouldRedirect = true, redirectTo, ...rest } = options instanceof FormData ? Object.fromEntries(options) : options;\n  const callbackUrl = redirectTo?.toString() ?? headers.get(\"Referer\") ?? \"/\";\n  const signInURL = createActionURL(\"signin\", protocol, headers, private_env, config);\n  if (!provider) {\n    signInURL.searchParams.append(\"callbackUrl\", callbackUrl);\n    if (shouldRedirect)\n      redirect(302, signInURL.toString());\n    return signInURL.toString();\n  }\n  let url = `${signInURL}/${provider}?${new URLSearchParams(authorizationParams)}`;\n  let foundProvider = {};\n  for (const providerConfig of config.providers) {\n    const { options: options2, ...defaults } = typeof providerConfig === \"function\" ? providerConfig() : providerConfig;\n    const id = options2?.id ?? defaults.id;\n    if (id === provider) {\n      foundProvider = {\n        id,\n        type: options2?.type ?? defaults.type\n      };\n      break;\n    }\n  }\n  if (!foundProvider.id) {\n    const url2 = `${signInURL}?${new URLSearchParams({ callbackUrl })}`;\n    if (shouldRedirect)\n      redirect(302, url2);\n    return url2;\n  }\n  if (foundProvider.type === \"credentials\") {\n    url = url.replace(\"signin\", \"callback\");\n  }\n  headers.set(\"Content-Type\", \"application/x-www-form-urlencoded\");\n  const body = new URLSearchParams({ ...rest, callbackUrl });\n  const req = new Request(url, { method: \"POST\", headers, body });\n  const res = await Auth(req, { ...config, raw });\n  for (const c of res?.cookies ?? []) {\n    event.cookies.set(c.name, c.value, { path: \"/\", ...c.options });\n  }\n  if (shouldRedirect) {\n    return redirect(302, res.redirect);\n  }\n  return res.redirect;\n}\nasync function signOut(options, config, event) {\n  const { request, url: { protocol } } = event;\n  const headers = new Headers(request.headers);\n  headers.set(\"Content-Type\", \"application/x-www-form-urlencoded\");\n  const url = createActionURL(\"signout\", protocol, headers, private_env, config);\n  const callbackUrl = options?.redirectTo ?? headers.get(\"Referer\") ?? \"/\";\n  const body = new URLSearchParams({ callbackUrl });\n  const req = new Request(url, { method: \"POST\", headers, body });\n  const res = await Auth(req, { ...config, raw });\n  for (const c of res?.cookies ?? [])\n    event.cookies.set(c.name, c.value, { path: \"/\", ...c.options });\n  if (options?.redirect ?? true)\n    return redirect(302, res.redirect);\n  return res;\n}\nasync function auth(event, config) {\n  setEnvDefaults(private_env, config);\n  config.trustHost ??= true;\n  const { request: req, url: { protocol } } = event;\n  const sessionUrl = createActionURL(\"session\", protocol, req.headers, private_env, config);\n  const request = new Request(sessionUrl, {\n    headers: { cookie: req.headers.get(\"cookie\") ?? \"\" }\n  });\n  const response = await Auth(request, config);\n  const authCookies = parse(response.headers.getSetCookie());\n  for (const cookie of authCookies) {\n    const { name, value, ...options } = cookie;\n    event.cookies.set(name, value, { path: \"/\", ...options });\n  }\n  const { status = 200 } = response;\n  const data = await response.json();\n  if (!data || !Object.keys(data).length)\n    return null;\n  if (status === 200)\n    return data;\n  throw new Error(data.message);\n}\nconst authorizationParamsPrefix = \"authorizationParams-\";\nfunction SvelteKitAuth(config) {\n  return {\n    signIn: async (event) => {\n      if (building)\n        return;\n      const { request } = event;\n      const _config = typeof config === \"object\" ? config : await config(event);\n      setEnvDefaults(private_env, _config);\n      const formData = await request.formData();\n      const { providerId: provider, ...options } = Object.fromEntries(formData);\n      const authorizationParams = {};\n      const _options = {};\n      for (const key in options) {\n        if (key.startsWith(authorizationParamsPrefix)) {\n          authorizationParams[key.slice(authorizationParamsPrefix.length)] = options[key];\n        } else {\n          _options[key] = options[key];\n        }\n      }\n      await signIn(provider, _options, authorizationParams, _config, event);\n    },\n    signOut: async (event) => {\n      if (building)\n        return;\n      const _config = typeof config === \"object\" ? config : await config(event);\n      setEnvDefaults(private_env, _config);\n      const options = Object.fromEntries(await event.request.formData());\n      await signOut(options, _config, event);\n    },\n    async handle({ event, resolve }) {\n      if (building) {\n        event.locals.auth ??= async () => null;\n        event.locals.getSession ??= event.locals.auth;\n        return resolve(event);\n      }\n      const _config = typeof config === \"object\" ? config : await config(event);\n      setEnvDefaults(private_env, _config);\n      const { url, request } = event;\n      event.locals.auth ??= () => auth(event, _config);\n      event.locals.getSession ??= event.locals.auth;\n      const action = url.pathname.slice(\n        // @ts-expect-error - basePath is defined in setEnvDefaults\n        _config.basePath.length + 1\n      ).split(\"/\")[0];\n      if (isAuthAction(action) && url.pathname.startsWith(_config.basePath + \"/\")) {\n        return Auth(request, _config);\n      }\n      return resolve(event);\n    }\n  };\n}\nconst { handle: authHandle } = SvelteKitAuth({\n  providers: [\n    // Credentials provider for temporary access during IP-only deployment\n    {\n      id: \"test-admin\",\n      name: \"Test Admin Access\",\n      type: \"credentials\",\n      credentials: {\n        username: {\n          label: \"Username\",\n          type: \"text\",\n          placeholder: \"Enter admin username\"\n        },\n        password: {\n          label: \"Password\",\n          type: \"password\"\n        }\n      },\n      async authorize(credentials) {\n        if (credentials?.username === \"admin\" && credentials?.password === \"boutique2024!\") {\n          return {\n            id: \"test-admin-001\",\n            email: \"admin@boutique.local\",\n            name: \"Test Admin\",\n            role: \"ADMIN\",\n            accountLinked: true,\n            isNewUser: false\n          };\n        }\n        if (credentials?.username === \"client\" && credentials?.password === \"client2024!\") {\n          return {\n            id: \"test-client-001\",\n            email: \"client@boutique.local\",\n            name: \"Test Client\",\n            role: \"CLIENT\",\n            accountLinked: true,\n            isNewUser: false\n          };\n        }\n        return null;\n      }\n    }\n  ],\n  // Session configuration\n  session: {\n    strategy: \"jwt\",\n    maxAge: 24 * 60 * 60,\n    // 24 hours for testing\n    updateAge: 6 * 60 * 60\n    // Update every 6 hours\n  },\n  // Cookies configuration\n  cookies: {\n    sessionToken: {\n      name: \"boutique-session-token\",\n      options: {\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        secure: false,\n        // HTTP-only for IP deployment\n        domain: void 0\n        // No domain for IP-based access\n      }\n    },\n    callbackUrl: {\n      name: \"boutique-callback-url\",\n      options: {\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        secure: false\n      }\n    },\n    csrfToken: {\n      name: \"boutique-csrf-token\",\n      options: {\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        secure: false\n      }\n    }\n  },\n  // No secure cookies for HTTP deployment\n  useSecureCookies: false,\n  // JWT configuration\n  jwt: {\n    maxAge: 24 * 60 * 60\n    // 24 hours\n  },\n  // Page configuration\n  pages: {\n    signIn: \"/login\",\n    error: \"/login\",\n    signOut: \"/login\"\n  },\n  // Simplified callbacks for IP-only deployment\n  callbacks: {\n    async signIn({ user, account }) {\n      if (account?.provider === \"test-admin\") {\n        console.log(`IP-only test login: ${user.email}`);\n        return true;\n      }\n      return false;\n    },\n    async jwt({ token, user, account }) {\n      if (account && user) {\n        token.userId = user.id;\n        token.email = user.email;\n        token.name = user.name;\n        token.role = user.role;\n        token.isNewUser = user.isNewUser || false;\n        token.accountLinked = user.accountLinked || true;\n        console.log(`JWT created for test user: ${user.email}`);\n      }\n      return token;\n    },\n    async session({ session, token }) {\n      if (token.userId) {\n        session.user.id = token.userId;\n        session.user.role = token.role;\n        session.user.isNewUser = token.isNewUser;\n        session.user.accountLinked = token.accountLinked;\n      }\n      return session;\n    },\n    async redirect({ url, baseUrl }) {\n      if (url.startsWith(\"/\")) {\n        return `${baseUrl}${url}`;\n      }\n      const returnUrl = new URL(url).searchParams.get(\"redirectTo\") || new URL(url).searchParams.get(\"callbackUrl\");\n      if (returnUrl && returnUrl.startsWith(\"/\")) {\n        return `${baseUrl}${returnUrl}`;\n      }\n      return `${baseUrl}/client-portal`;\n    }\n  },\n  // Events for logging\n  events: {\n    async signIn({ user, account }) {\n      console.log(`IP-only deployment sign in: ${user.email} (provider: ${account?.provider})`);\n    }\n  },\n  // Enable debug for IP testing\n  debug: true,\n  // Trust host for IP-based deployment\n  trustHost: true,\n  // Secret for JWT signing\n  secret: (() => {\n    const secret = process.env.AUTH_SECRET || process.env.NEXTAUTH_SECRET;\n    if (!secret) {\n      console.warn(\"⚠️  WARNING: Using fallback secret for IP-only deployment testing\");\n      return \"ip-only-deployment-test-secret-not-for-production-use-2024-boutique-testing\";\n    }\n    return secret;\n  })()\n});\nconsole.log(`\n⚠️  IP-ONLY DEPLOYMENT AUTH ACTIVE ⚠️\nTest credentials:\n- Admin: admin / boutique2024!\n- Client: client / client2024!\n\nThis is TEMPORARY for IP-only testing.\nReplace with full OAuth when domain is configured.\n`);\nexport {\n  authHandle as a\n};\n"],"names":["parse"],"mappings":"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"}